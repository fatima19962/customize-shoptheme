/************************************************************************************
 * jquery.themepunch.essential.js - jQuery Plugin for esg Portfolio Slider
 * @version: 2.1.0 (19.08.2015)
 * @requires jQuery v1.7 or later (tested on 1.9)
 * @author ThemePunch
************************************************************************************/
//! ++++++++++++++++++++++++++++++++++++++
"use strict";var WebFontConfig,lamount,aratio,opt,animfrom,hidsbutton,animobject,splitted,isOut,animto;!function(jQuery,undefined){function createCookie(a,b,c){var d;if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),d="; expires="+e.toGMTString()}else d="";document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+d+"; path=/"}function readCookie(a){for(var b=encodeURIComponent(a)+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return decodeURIComponent(e.substring(b.length,e.length))}return null}function eraseCookie(a){createCookie(a,"",-1)}function checkAvailableFilters(){}function checkMoreToLoad(a,b){var c=new Array;fidlist=new Array,searchchanged=jQuery(b.filterGroupClass+".esg-filter-wrapper.eg-search-wrapper .eg-justfilteredtosearch").length,forcesearch=jQuery(b.filterGroupClass+".esg-filter-wrapper.eg-search-wrapper .eg-forcefilter").length,jQuery(b.filterGroupClass+".esg-filter-wrapper .esg-filterbutton.selected, "+b.filterGroupClass+" .esg-filter-wrapper .esg-filterbutton.selected").each(function(){var a=jQuery(this).data("fid");-1==jQuery.inArray(a,fidlist)&&(c.push(a),fidlist.push(a))}),0==jQuery(b.filterGroupClass+".esg-filter-wrapper .esg-filterbutton.selected, "+b.filterGroupClass+" .esg-filter-wrapper .esg-filterbutton.selected").length&&c.push(-1);for(var d=new Array,e=0;e<b.loadMoreItems.length;e++)jQuery.each(b.loadMoreItems[e][1],function(a,f){jQuery.each(c,function(a,c){c==f&&-1!=b.loadMoreItems[e][0]&&(0==forcesearch||1==forcesearch&&"cat-searchresult"===b.loadMoreItems[e][2])&&d.push(b.loadMoreItems[e])})});return addCountSuffix(a,b),d}function addCountSuffix(a,b){var c=jQuery(b.filterGroupClass+".esg-filter-wrapper.eg-search-wrapper .eg-justfilteredtosearch").length,d=jQuery(b.filterGroupClass+".esg-filter-wrapper.eg-search-wrapper .eg-forcefilter").length;jQuery(b.filterGroupClass+".esg-filter-wrapper.eg-show-amount .esg-filterbutton").each(function(){var e=jQuery(this);if(0==e.find(".eg-el-amount").length||c>0){var f=e.data("fid"),g=e.data("filter");d>0&&(g+=".cat-searchresult");for(var h=a.find("."+g).length,i=0;i<b.loadMoreItems.length;i++)0==d?jQuery.each(b.loadMoreItems[i][1],function(a,c){c===f&&-1!=b.loadMoreItems[i][0]&&h++}):-1!=jQuery.inArray(f,b.loadMoreItems[i][1])&&"cat-searchresult"===b.loadMoreItems[i][2]&&h++;0==e.find(".eg-el-amount").length&&e.append('<span class="eg-el-amount">0</span>'),countToTop(e,h)}}),jQuery(b.filterGroupClass+".esg-filter-wrapper.eg-search-wrapper .eg-justfilteredtosearch").removeClass("eg-justfilteredtosearch")}function countToTop(a,b){function c(a,b){d.html(Math.round(a.target[b]))}var d=a.find(".eg-el-amount"),e={value:parseInt(d.text(),0)};punchgs.TweenLite.to(e,2,{value:b,onUpdate:c,onUpdateParams:["{self}","value"],ease:punchgs.Power3.easeInOut})}function buildLoader(a,b,c){return!(a.find(".esg-loader").length>0)&&(a.append('<div class="esg-loader '+b.spinner+'"><div class="dot1"></div><div class="dot2"></div><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'),("spinner1"==b.spinner||"spinner2"==b.spinner)&&a.find(".esg-loader").css({backgroundColor:b.spinnerColor}),("spinner3"==b.spinner||"spinner4"==b.spinner)&&a.find(".bounce1, .bounce2, .bounce3, .dot1, .dot2").css({backgroundColor:b.spinnerColor}),void(c||punchgs.TweenLite.to(a,.3,{minHeight:"100px",zIndex:0})))}function setKeyToNull(a,b){jQuery.each(a.loadMoreItems,function(c,d){d[0]==b&&(a.loadMoreItems[c][0]=-1,a.loadMoreItems[c][2]="already loaded")})}function loadMoreEmpty(a){for(var b=!0,c=0;c<a.loadMoreItems.length;c++)-1!=a.loadMoreItems[c][0]&&(b=!1);return b}function loadMoreItems(a,b){var c=checkMoreToLoad(a,b),d=new Array;jQuery.each(c,function(a,c){d.length<b.loadMoreAmount&&(d.push(c[0]),setKeyToNull(b,c[0]))});var e=checkMoreToLoad(a,b).length;if(d.length>0){var f=a.find(".esg-loadmore");f.length>0&&(punchgs.TweenLite.to(f,.4,{autoAlpha:.2}),f.data("loading",1));var g={action:b.loadMoreAjaxAction,client_action:"load_more_items",token:b.loadMoreAjaxToken,data:d,gridid:b.gridID};jQuery.ajax({type:"post",url:b.loadMoreAjaxUrl,dataType:"json",data:g}).success(function(c){if(c.success){var d=jQuery(c.data);jQuery(b.filterGroupClass+".esg-filter-wrapper.eg-search-wrapper .eg-forcefilter").length>0&&d.addClass("cat-searchresult"),a.find("ul").first().append(d),checkAvailableFilters(a,b),prepareItemsInGrid(b,!0),setItemsOnPages(b),setTimeout(function(){if(b.animDelay="off",organiseGrid(b),prepareSortingAndOrders(a),loadMoreEmpty(b))a.find(".esg-loadmore").remove();else{var c=a.find(".esg-loadmore"),d=b.loadMoreTxt+" ("+e+")";"off"==b.loadMoreNr&&(d=b.loadMoreTxt),c.html(0==e?b.loadMoreEndTxt:d),c.length>0&&(punchgs.TweenLite.to(c,.4,{autoAlpha:1,overwrite:"all"}),c.data("loading",0))}setTimeout(function(){b.animDelay="on"},500)},10)}}).error(function(b,c){a.find(".esg-loadmore").html("FAILURE: "+c)})}else loadMoreEmpty(b)?a.find(".esg-loadmore").remove():a.find(".esg-loadmore").html(b.loadMoreEndTxt)}function killOldCustomAjaxContent(a){var b=a.data("lastposttype"),c=a.data("oldajaxsource"),d=a.data("oldajaxtype"),e=a.data("oldajaxvideoaspect"),f=a.data("oldselector");if(b!=undefined&&""!=b)try{jQuery.each(jQuery.fn.tpessential.defaults.ajaxTypes,function(g,h){h!=undefined&&h.type!=undefined&&h.type==b&&h.killfunc!=undefined&&setTimeout(function(){h.killfunc.call(this,{id:c,type:d,aspectratio:e,selector:f})&&a.empty()},250)})}catch(a){console.log(a)}a.data("lastposttype","")}function addAjaxNavigagtion(a,b){function c(a){var b=new Array;return jQuery.each(a,function(a,c){jQuery(c).closest(".itemtoshow.isvisiblenow").length>0&&b.push(c)}),b}var d=" eg-acp-"+a.ajaxClosePosition;d=d+" eg-acp-"+a.ajaxCloseStyle,d=d+" eg-acp-"+a.ajaxCloseType,loc="eg-icon-left-open-1",roc="eg-icon-right-open-1",xoc='<i class="eg-icon-cancel"></i>',"type1"==a.ajaxCloseType&&(loc="eg-icon-left-open-big",roc="eg-icon-right-open-big",a.ajaxCloseTxt="",xoc="X"),("true"==a.ajaxCloseInner||1==a.ajaxCloseInner)&&(d+=" eg-acp-inner");var e='<div class="eg-ajax-closer-wrapper'+d+'">';switch("tr"==a.ajaxClosePosition||"br"==a.ajaxClosePosition?("on"==a.ajaxNavButton&&(e=e+'<div class="eg-ajax-left eg-ajax-navbt"><i class="'+loc+'"></i></div><div class="eg-ajax-right eg-ajax-navbt"><i class="'+roc+'"></i></div>'),"on"==a.ajaxCloseButton&&(e=e+'<div class="eg-ajax-closer eg-ajax-navbt">'+xoc+a.ajaxCloseTxt+"</div>")):("on"==a.ajaxCloseButton&&(e=e+'<div class="eg-ajax-closer eg-ajax-navbt">'+xoc+a.ajaxCloseTxt+"</div>"),"on"==a.ajaxNavButton&&(e=e+'<div class="eg-ajax-left eg-ajax-navbt"><i class="'+loc+'"></i></div><div class="eg-ajax-right eg-ajax-navbt"><i class="'+roc+'"></i></div>')),e+="</div>",a.ajaxClosePosition){case"tl":case"tr":case"t":b.prepend(e);break;case"bl":case"br":case"b":b.append(e)}b.find(".eg-ajax-closer").click(function(){showHideAjaxContainer(b,!1,null,null,.25,!0)}),b.find(".eg-ajax-right").click(function(){var a=b.data("container").find(".lastclickedajax").closest("li"),d=a.nextAll().find(".eg-ajax-a-button"),e=a.prevAll().find(".eg-ajax-a-button");d=c(d),e=c(e),d.length>0?d[0].click():e[0].click()}),b.find(".eg-ajax-left").click(function(){var a=b.data("container").find(".lastclickedajax").closest("li"),d=a.nextAll().find(".eg-ajax-a-button"),e=a.prevAll().find(".eg-ajax-a-button");d=c(d),e=c(e),e.length>0?e[e.length-1].click():d[d.length-1].click()})}function showHideAjaxContainer(a,b,c,d,e,f){e=e==undefined?.25:e;var g=a.data("container").data("opt"),h=a.data("lastheight")!=undefined?a.data("lastheight"):"100px";b?(e+=1.2,addAjaxNavigagtion(g,a),punchgs.TweenLite.set(a,{height:"auto"}),punchgs.TweenLite.set(a.parent(),{minHeight:0,maxHeight:"none",height:"auto",overwrite:"all"}),punchgs.TweenLite.from(a,e,{height:h,ease:punchgs.Power3.easeInOut,onStart:function(){punchgs.TweenLite.to(a,e,{autoAlpha:1,ease:punchgs.Power3.easeOut})},onComplete:function(){a.data("lastheight",a.height()),jQuery(window).trigger("resize.essg"),0==a.find(".eg-ajax-closer-wrapper").length&&addAjaxNavigagtion(g,a)}}),"off"!=g.ajaxScrollToOnLoad&&jQuery("html, body").animate({scrollTop:a.offset().top-d},{queue:!1,speed:.5})):(f&&(killOldCustomAjaxContent(a),h="0px"),punchgs.TweenLite.to(a.parent(),e,{height:h,ease:punchgs.Power2.easeInOut,onStart:function(){punchgs.TweenLite.to(a,e,{autoAlpha:0,ease:punchgs.Power3.easeOut})},onComplete:function(){setTimeout(function(){f&&a.html("")},300)}}))}function removeLoader(a){a.closest(".eg-ajaxanimwrapper").find(".esg-loader").remove()}function ajaxCallBack(opt,a){if(opt.ajaxCallback==undefined||""==opt.ajaxCallback||opt.ajaxCallback.length<3)return!1;var splitter=opt.ajaxCallback.split(")"),splitter=splitter[0].split("("),callback=splitter[0],arg=splitter.length>1&&""!=splitter[1]?splitter[1]+",":"",obj=new Object;try{obj.containerid="#"+opt.ajaxContentTarget,obj.postsource=a.data("ajaxsource"),obj.posttype=a.data("ajaxtype"),eval("on"==opt.ajaxCallbackArgument?callback+"("+arg+"obj)":callback+"("+arg+")")}catch(a){console.log("Callback Error"),console.log(a)}}function loadMoreContent(a,b,c){a.find(".lastclickedajax").removeClass("lastclickedajax"),c.addClass("lastclickedajax");var d=jQuery("#"+b.ajaxContentTarget).find(".eg-ajax-target"),e=c.data("ajaxsource"),f=c.data("ajaxtype"),g=c.data("ajaxvideoaspect");if(d.data("container",a),g="16:9"==g?"widevideo":"normalvideo",showHideAjaxContainer(d,!1),d.length>0)switch(b.ajaxJsUrl!=undefined&&""!=b.ajaxJsUrl&&b.ajaxJsUrl.length>3&&jQuery.getScript(b.ajaxJsUrl).done(function(){b.ajaxJsUrl=""}).fail(function(){console.log("Loading Error on Ajax jQuery File. Please doublecheck if JS File and Path exist:"+b.ajaxJSUrl),b.ajaxJsUrl=""}),b.ajaxCssUrl!=undefined&&""!=b.ajaxCssUrl&&b.ajaxCssUrl.length>3&&(jQuery("<link>").appendTo("head").attr({type:"text/css",rel:"stylesheet"}).attr("href",b.ajaxCssUrl),""==b.ajaxCssUrl),buildLoader(d.closest(".eg-ajaxanimwrapper"),b),d.data("ajaxload")!=undefined&&d.data("ajaxload").abort(),killOldCustomAjaxContent(d),f){case"postid":var h={action:b.loadMoreAjaxAction,client_action:"load_more_content",token:b.loadMoreAjaxToken,postid:e};setTimeout(function(){d.data("ajaxload",jQuery.ajax({type:"post",url:b.loadMoreAjaxUrl,dataType:"json",data:h})),d.data("ajaxload").success(function(a){a.success&&(jQuery(d).html(a.data),showHideAjaxContainer(d,!0,b.ajaxScrollToOnLoad,b.ajaxScrollToOffset),removeLoader(d),ajaxCallBack(b,c))}),d.data("ajaxload").error(function(a,b){"abort"!=b&&(jQuery(d).append("<p>FAILURE: <strong>"+b+"</strong></p>"),removeLoader(d))})},300);break;case"youtubeid":setTimeout(function(){d.html('<div class="eg-ajax-video-container '+g+'"><iframe width="560" height="315" src="//www.youtube.com/embed/'+e+'?autoplay=1&vq=hd1080" frameborder="0" allowfullscreen></iframe></div>'),removeLoader(d),showHideAjaxContainer(d,!0,b.ajaxScrollToOnLoad,b.ajaxScrollToOffset),ajaxCallBack(b,c)},300);break;case"vimeoid":setTimeout(function(){d.html('<div class="eg-ajax-video-container '+g+'"><iframe src="//player.vimeo.com/video/'+e+'?portrait=0&autoplay=1" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'),removeLoader(d),showHideAjaxContainer(d,!0,b.ajaxScrollToOnLoad,b.ajaxScrollToOffset),ajaxCallBack(b,c)},300);break;case"wistiaid":setTimeout(function(){d.html('<div class="eg-ajax-video-container '+g+'"><iframe src="//fast.wistia.net/embed/iframe/'+e+'"allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen width="640" height="388"></iframe></div>'),removeLoader(d),showHideAjaxContainer(d,!0,b.ajaxScrollToOnLoad,b.ajaxScrollToOffset),ajaxCallBack(b,c)},300);break;case"html5vid":e=e.split("|"),setTimeout(function(){d.html('<video autoplay="true" loop="" class="rowbgimage" poster="" width="100%" height="auto"><source src="'+e[0]+'" type="video/mp4"><source src="'+e[1]+'" type="video/webm"><source src="'+e[2]+'" type="video/ogg"></video>'),removeLoader(d),showHideAjaxContainer(d,!0,b.ajaxScrollToOnLoad,b.ajaxScrollToOffset),ajaxCallBack(b,c)},300);break;case"soundcloud":case"soundcloudid":setTimeout(function(){d.html('<iframe width="100%" height="250" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/'+e+'&auto_play=true&hide_related=false&show_comments=true&show_user=true&show_reposts=false&visual=true"></iframe>'),removeLoader(d),showHideAjaxContainer(d,!0,b.ajaxScrollToOnLoad,b.ajaxScrollToOffset),ajaxCallBack(b,c)},300);break;case"imageurl":setTimeout(function(){var a=new Image;a.onload=function(){var a=jQuery(this);d.html(""),a.css({width:"100%",height:"auto"}),d.append(jQuery(this)),removeLoader(d),showHideAjaxContainer(d,!0,b.ajaxScrollToOnLoad,b.ajaxScrollToOffset),ajaxCallBack(b,c)},a.onerror=function(){d.html("Error"),removeLoader(d),showHideAjaxContainer(d,!0,b.ajaxScrollToOnLoad,b.ajaxScrollToOffset)},a.src=e},300);break;default:jQuery.each(jQuery.fn.tpessential.defaults.ajaxTypes,function(a,c){c.openAnimationSpeed==undefined&&(c.openAnimationSpeed=0),c!=undefined&&c.type!=undefined&&c.type==f&&setTimeout(function(){d.data("lastposttype",f),d.data("oldajaxsource",e),d.data("oldajaxtype",f),d.data("oldajaxvideoaspect",g),d.data("oldselector","#"+b.ajaxContentTarget+" .eg-ajax-target"),showHideAjaxContainer(d,!0,b.ajaxScrollToOnLoad,b.ajaxScrollToOffset,0),d.html(c.func.call(this,{id:e,type:f,aspectratio:g})),removeLoader(d)},300)})}}function resetFiltersFromCookies(a,b,c){if("on"==a.cookies.filter){var d=c!==undefined?c:readCookie("grid_"+a.girdID+"_filters");if(d!==undefined&&null!==d&&d.length>0){var e=0;jQuery.each(d.split(","),function(c,d){d!==undefined&&-1!==d&&"-1"!==d&&jQuery(a.filterGroupClass+".esg-filterbutton,"+a.filterGroupClass+" .esg-filterbutton").each(function(){jQuery(this).data("fid")!=d&&parseInt(jQuery(this).data("fid"),0)!==parseInt(d,0)||jQuery(this).hasClass("esg-pagination-button")||(b?jQuery(this).click():jQuery(this).addClass("selected"),e++)})}),e>0&&jQuery(a.filterGroupClass+".esg-filterbutton.esg-allfilter,"+a.filterGroupClass+" .esg-filterbutton.esg-allfilter").removeClass("selected")}}}function resetPaginationFromCookies(a,b){if("on"===a.cookies.pagination){var c=b!==undefined?b:readCookie("grid_"+a.girdID+"_pagination");c!==undefined&&null!==c&&c.length>0&&jQuery(a.filterGroupClass+".esg-filterbutton.esg-pagination-button,"+a.filterGroupClass+" .esg-filterbutton.esg-pagination-button").each(function(){parseInt(jQuery(this).data("page"),0)!==parseInt(c,0)||jQuery(this).hasClass("selected")||jQuery(this).click()})}}function resetSearchFromCookies(a){if("on"===a.cookies.search){var b=readCookie("grid_"+a.gridID+"_search");b!==undefined&&null!=b&&b.length>0&&(jQuery(a.filterGroupClass+".eg-search-wrapper .eg-search-input").val(b).trigger("change"),a.cookies.searchjusttriggered=!0)}}function mainPreparing(a,b){function c(){if(1==b.lastsearchtimer)return!1;b.lastsearchtimer=1,buildLoader(jQuery(b.filterGroupClass+".eg-search-wrapper"),{spinner:"spinner3",spinnerColor:"#fff"},!0),punchgs.TweenLite.fromTo(jQuery(b.filterGroupClass+".eg-search-wrapper").find(".esg-loader"),.3,{autoAlpha:0},{autoAlpha:1,ease:punchgs.Power3.easeInOut});var c=jQuery(b.filterGroupClass+".eg-search-wrapper .eg-search-input"),d=c.val(),e=jQuery(b.filterGroupClass+".eg-search-wrapper.esg-filter-wrapper .hiddensearchfield");if(c.attr("disabled","true"),d.length>0){c.trigger("searchstarting");var f={search:d,id:b.gridID},g={action:b.loadMoreAjaxAction,client_action:"get_grid_search_ids",token:b.loadMoreAjaxToken,data:f};jQuery.ajax({type:"post",url:b.loadMoreAjaxUrl,dataType:"json",data:g}).success(function(c){if("on"===b.cookies.search&&createCookie("grid_"+b.gridID+"_search",d,b.cookies.timetosave*(1/60/60)),b.cookies.searchjusttriggered===!0){var f=readCookie("grid_"+b.girdID+"_pagination"),g=readCookie("grid_"+b.girdID+"_filters");setTimeout(function(){resetFiltersFromCookies(b,!0,g),resetPaginationFromCookies(b,f)},200),b.cookies.searchjusttriggered=!1}setTimeout(function(){b.lastsearchtimer=0,jQuery(b.filterGroupClass+".eg-search-wrapper .eg-search-input").attr("disabled",!1),punchgs.TweenLite.to(jQuery(b.filterGroupClass+".eg-search-wrapper").find(".esg-loader"),.5,{autoAlpha:1,ease:punchgs.Power3.easeInOut,onComplete:function(){jQuery(b.filterGroupClass+".eg-search-wrapper").find(".esg-loader").remove()}}),jQuery(b.filterGroupClass+".eg-search-wrapper .eg-search-input").trigger("searchended")},1e3);var h=new Array;c&&jQuery.each(c,function(a,b){b!=undefined&&jQuery.isNumeric(b)&&h.push(b)}),a.find(".cat-searchresult").removeClass("cat-searchresult");var i=0;jQuery.each(b.loadMoreItems,function(a,b){b[2]="notsearched",jQuery.each(h,function(a,c){return parseInt(b[0],0)===parseInt(c,0)&&-1!=parseInt(b[0],0)?(b[2]="cat-searchresult",i++,!1):void 0})}),jQuery.each(h,function(b,c){a.find(".eg-post-id-"+c).addClass("cat-searchresult")}),e.addClass("eg-forcefilter").addClass("eg-justfilteredtosearch"),jQuery(b.filterGroupClass+".esg-filter-wrapper .esg-allfilter").trigger("click")}).error(function(a,c){console.log("FAILURE: "+c),setTimeout(function(){b.lastsearchtimer=0,jQuery(b.filterGroupClass+".eg-search-wrapper .eg-search-input").attr("disabled",!1),punchgs.TweenLite.to(jQuery(b.filterGroupClass+".eg-search-wrapper").find(".esg-loader"),.5,{autoAlpha:1,ease:punchgs.Power3.easeInOut,onComplete:function(){jQuery(b.filterGroupClass+".eg-search-wrapper").find(".esg-loader").remove()}}),jQuery(b.filterGroupClass+".eg-search-wrapper .eg-search-input").trigger("searchended")},1e3)})}else{jQuery.each(b.loadMoreItems,function(a,b){b[2]="notsearched"}),a.find(".cat-searchresult").removeClass("cat-searchresult");var e=jQuery(b.filterGroupClass+".eg-search-wrapper.esg-filter-wrapper .hiddensearchfield");e.removeClass("eg-forcefilter").addClass("eg-justfilteredtosearch"),"on"===b.cookies.search&&createCookie("grid_"+b.gridID+"_search","",-1),jQuery(b.filterGroupClass+".esg-filter-wrapper .esg-allfilter").trigger("click"),setTimeout(function(){b.lastsearchtimer=0,jQuery(b.filterGroupClass+".eg-search-wrapper .eg-search-input").attr("disabled",!1),punchgs.TweenLite.to(jQuery(b.filterGroupClass+".eg-search-wrapper").find(".esg-loader"),.5,{autoAlpha:1,ease:punchgs.Power3.easeInOut,onComplete:function(){jQuery(b.filterGroupClass+".eg-search-wrapper").find(".esg-loader").remove()}}),jQuery(b.filterGroupClass+".eg-search-wrapper .eg-search-input").trigger("searchended")},1e3)}}resetFiltersFromCookies(b);var d=a.find(".eg-leftright-container"),e=getBestFitColumn(b,jQuery(window).width(),"id");if(b.column=e.column,b.columnindex=e.index,prepareItemsInGrid(b),organiseGrid(b),jQuery(b.filterGroupClass+".eg-search-wrapper").length>0){var f=b.filterGroupClass.replace(".",""),g="Search Result",h=jQuery(b.filterGroupClass+".eg-search-wrapper .eg-search-submit"),i=jQuery(b.filterGroupClass+".eg-search-wrapper .eg-search-clean");jQuery(b.filterGroupClass+".esg-filter-wrapper.eg-search-wrapper").append('<div style="display:none !important" class="esg-filterbutton hiddensearchfield '+f+'" data-filter="cat-searchresult"><span>'+g+"</span></div>"),b.lastsearchtimer=0,h.click(c),jQuery(b.filterGroupClass+".eg-search-wrapper .eg-search-input").on("change",c),i.click(function(){"on"===b.cookies.search&&createCookie("grid_"+b.gridID+"_search","",-1),jQuery.each(b.loadMoreItems,function(a,b){b[2]="notsearched"}),a.find(".cat-searchresult").removeClass("cat-searchresult");var c=jQuery(b.filterGroupClass+".eg-search-wrapper.esg-filter-wrapper .hiddensearchfield");jQuery(b.filterGroupClass+".eg-search-wrapper .eg-search-input").val(""),c.removeClass("eg-forcefilter").addClass("eg-justfilteredtosearch"),jQuery(b.filterGroupClass+".esg-filter-wrapper .esg-allfilter").trigger("click"),setTimeout(function(){b.lastsearchtimer=0,jQuery(b.filterGroupClass+".eg-search-wrapper .eg-search-input").attr("disabled",!1),punchgs.TweenLite.to(jQuery(b.filterGroupClass+".eg-search-wrapper").find(".esg-loader"),.5,{autoAlpha:1,ease:punchgs.Power3.easeInOut,onComplete:function(){jQuery(b.filterGroupClass+".eg-search-wrapper").find(".esg-loader").remove()}}),jQuery(b.filterGroupClass+".eg-search-wrapper .eg-search-input").trigger("searchended")},1e3)})}addCountSuffix(a,b),jQuery(b.filterGroupClass+".esg-filter-wrapper,"+b.filterGroupClass+" .esg-filter-wrapper").each(function(){var a=jQuery(this);a.hasClass("dropdownstyle")&&(a.find(".esg-filter-checked").each(function(){jQuery(this).prependTo(jQuery(this).parent())}),is_mobile()?a.find(".esg-selected-filterbutton").click(function(){var b=a.find(".esg-selected-filterbutton");b.hasClass("hoveredfilter")?(setTimeout(function(){b.removeClass("hoveredfilter")},200),a.find(".esg-dropdown-wrapper").stop().hide()):(setTimeout(function(){b.addClass("hoveredfilter")},200),a.find(".esg-dropdown-wrapper").stop().show())}):"click"==b.showDropFilter?(a.click(function(){var a=jQuery(this).closest(".esg-filter-wrapper");a.find(".esg-selected-filterbutton").addClass("hoveredfilter"),a.find(".esg-dropdown-wrapper").stop().show()}),a.on("mouseleave",function(){var a=jQuery(this).closest(".esg-filter-wrapper");a.find(".esg-selected-filterbutton").removeClass("hoveredfilter"),a.find(".esg-dropdown-wrapper").stop().hide()})):a.hover(function(){var a=jQuery(this).closest(".esg-filter-wrapper");a.find(".esg-selected-filterbutton").addClass("hoveredfilter"),a.find(".esg-dropdown-wrapper").stop().show()},function(){var a=jQuery(this).closest(".esg-filter-wrapper");a.find(".esg-selected-filterbutton").removeClass("hoveredfilter"),a.find(".esg-dropdown-wrapper").stop().hide()}))}),jQuery("body").on("click",b.filterGroupClass+".esg-left,"+b.filterGroupClass+" .esg-left",function(){b=getOptions(a),b.oldpage=b.currentpage,b.currentpage--,b.currentpage<0&&(b.currentpage=b.realmaxpage-1);var c=getBestFitColumn(b,jQuery(window).width(),"id");b.column=c.column,b.columnindex=c.index,setItemsOnPages(b),organiseGrid(b,"right"),setOptions(a,b),stopAllVideos(!0)}),jQuery("body").on("click",b.filterGroupClass+".esg-right,"+b.filterGroupClass+" .esg-right",function(){b=getOptions(a),b.oldpage=b.currentpage,b.currentpage++,b.currentpage>=b.realmaxpage&&(b.currentpage=0);var c=getBestFitColumn(b,jQuery(window).width(),"id");b.column=c.column,b.columnindex=c.index,setItemsOnPages(b),organiseGrid(b,"right"),setOptions(a,b),stopAllVideos(!0)}),jQuery(b.filterGroupClass+".esg-filterbutton, "+b.filterGroupClass+" .esg-filterbutton").each(function(){jQuery(this).hasClass("esg-pagination-button")||jQuery(this).click(function(){var b=getOptions(a);stopAllVideos(!0);var c=jQuery(this);c.hasClass("esg-pagination-button")||(jQuery(b.filterGroupClass+".esg-allfilter, "+b.filterGroupClass+" .esg-allfilter").removeClass("selected"),c.hasClass("esg-allfilter")&&jQuery(b.filterGroupClass+".esg-filterbutton, "+b.filterGroupClass+" .esg-filterbutton").each(function(){jQuery(this).removeClass("selected")})),c.closest(".esg-filters").hasClass("esg-singlefilters")||"single"==b.filterType?(jQuery(b.filterGroupClass+".esg-filterbutton, "+b.filterGroupClass+" .esg-filterbutton").each(function(){jQuery(this).removeClass("selected")}),c.addClass("selected")):c.hasClass("selected")?c.removeClass("selected"):c.addClass("selected");var d=jQuery(b.filterGroupClass+".esg-filter-wrapper .hiddensearchfield");d.hasClass("eg-forcefilter")&&d.addClass("selected");var e=0,f="";jQuery(b.filterGroupClass+".esg-filterbutton.selected,"+b.filterGroupClass+" .esg-filterbutton.selected").each(function(){jQuery(this).hasClass("selected")&&!jQuery(this).hasClass("esg-pagination-button")&&(e++,f=0===e?jQuery(this).data("fid"):f+","+jQuery(this).data("fid"))}),"on"===b.cookies.filter&&b.cookies.searchjusttriggered!==!0&&createCookie("grid_"+b.girdID+"_filters",f,b.cookies.timetosave*(1/60/60)),0==e&&jQuery(b.filterGroupClass+".esg-allfilter,"+b.filterGroupClass+" .esg-allfilter").addClass("selected"),b.filterchanged=!0,b.currentpage=0,1==b.maxpage?(jQuery(b.filterGroupClass+".navigationbuttons,"+b.filterGroupClass+" .navigationbuttons").css({display:"none"}),jQuery(b.filterGroupClass+".esg-pagination,"+b.filterGroupClass+" .esg-pagination").css({display:"none"})):(jQuery(b.filterGroupClass+".navigationbuttons,"+b.filterGroupClass+" .navigationbuttons").css({display:"inline-block"}),jQuery(b.filterGroupClass+".esg-pagination,"+b.filterGroupClass+" .esg-pagination").css({display:"inline-block"}));var g=a.find(".esg-loadmore");if(g.length>0){var h=checkMoreToLoad(a,b).length;g.html(h>0?"off"==b.loadMoreNr?b.loadMoreTxt:b.loadMoreTxt+" ("+h+")":b.loadMoreEndTxt)}setItemsOnPages(b),organiseGrid(b),setOptions(a,b)})});var j;jQuery(window).on("resize.essg",function(){if(clearTimeout(j),"on"==b.forceFullWidth||"on"==b.forceFullScreen){var c=a.parent().parent().find(".esg-relative-placeholder").offset().left;a.closest(".esg-container-fullscreen-forcer").css({left:0-c,width:jQuery(window).width()})}else a.closest(".esg-container-fullscreen-forcer").css({left:0,width:"auto"});if(d.length>0){var e=d.outerWidth(!0);punchgs.TweenLite.set(a.find(".esg-overflowtrick"),{width:a.width()-e,overwrite:"all"})}var f=getBestFitColumn(b,jQuery(window).width(),"id");b.column=f.column,b.columnindex=f.index,setOptions(a,b),j=setTimeout(function(){b=getOptions(a),setItemsOnPages(b),organiseGrid(b),setOptions(a,b)},200)}),a.on("itemsinposition",function(){var a=jQuery(this),b=getOptions(a),c=a.find(".eg-leftright-container");if(clearTimeout(a.data("callednow")),b.maxheight>0&&b.maxheight<9999999999){b.inanimation=!1;var d=a.find(".esg-overflowtrick").first(),e=a.find("ul").first(),c=a.find(".eg-leftright-container"),f=parseInt(d.css("paddingTop"),0);f=f==undefined?0:f,f=null==f?0:f;var g=parseInt(d.css("paddingBottom"),0);g=g==undefined?0:g,g=null==g?0:g;var h=b.maxheight+b.overflowoffset+f+g;if("on"==b.forceFullScreen){var i=jQuery(window).height();if(b.fullScreenOffsetContainer!=undefined)try{var j=b.fullScreenOffsetContainer.split(",");jQuery.each(j,function(a,c){i-=jQuery(c).outerHeight(!0),i<b.minFullScreenHeight&&(i=b.minFullScreenHeight)})}catch(a){}h=i}var k=.3;e.height()<200&&(k=1),punchgs.TweenLite.to(e,k,{force3D:"auto",height:h,ease:punchgs.Power3.easeInOut,clearProps:"transform"}),punchgs.TweenLite.to(d,k,{force3D:!0,height:h,ease:punchgs.Power3.easeInOut,clearProps:"transform",onComplete:function(){a.closest(".eg-grid-wrapper, .myportfolio-container").css({height:"auto"}).removeClass("eg-startheight")}}),c.length>0&&punchgs.TweenLite.set(c,{minHeight:h,ease:punchgs.Power3.easeInOut});var l=jQuery(b.filterGroupClass+".esg-navbutton-solo-left,"+b.filterGroupClass+" .esg-navbutton-solo-left"),m=jQuery(b.filterGroupClass+".esg-navbutton-solo-right,"+b.filterGroupClass+" .esg-navbutton-solo-right");l.length>0&&l.css({marginTop:0-l.height()/2}),m.length>0&&m.css({marginTop:0-m.height()/2})}else if(0==b.maxheight){var d=a.find(".esg-overflowtrick").first(),e=a.find("ul").first();punchgs.TweenLite.to(e,1,{force3D:"auto",height:0,ease:punchgs.Power3.easeInOut,clearProps:"transform"}),punchgs.TweenLite.to(d,1,{force3D:!0,height:0,ease:punchgs.Power3.easeInOut,clearProps:"transform"})}a.data("callednow",setTimeout(function(){a.find(".itemtoshow.isvisiblenow").each(function(){hideUnderElems(jQuery(this))})},250)),b.firstLoadFinnished===undefined&&(a.trigger("essential_grid_ready_to_use"),resetSearchFromCookies(b),resetPaginationFromCookies(b),b.firstLoadFinnished=!0)}),prepareSortingAndOrders(a),prepareSortingClicks(a)}function prepareSortingAndOrders(a){var b=getOptions(a);a.find(".tp-esg-item").each(function(){var a=new Date(jQuery(this).data("date"));jQuery(this).data("date",a.getTime()/1e3)}),jQuery(b.filterGroupClass+".esg-sortbutton-order,"+b.filterGroupClass+" .esg-sortbutton-order").each(function(){var a=jQuery(this);a.removeClass("tp-desc").addClass("tp-asc"),a.data("dir","asc")})}function prepareSortingClicks(a){opt=getOptions(a);var b;jQuery(opt.filterGroupClass+".esg-sortbutton-wrapper .esg-sortbutton-order,"+opt.filterGroupClass+" .esg-sortbutton-wrapper .esg-sortbutton-order").click(function(){var c=jQuery(this);c.hasClass("tp-desc")?(c.removeClass("tp-desc").addClass("tp-asc"),c.data("dir","asc")):(c.removeClass("tp-asc").addClass("tp-desc"),c.data("dir","desc"));var d=c.data("dir");stopAllVideos(!0,!0),jQuery(opt.filterGroupClass+".esg-sorting-select,"+opt.filterGroupClass+" .esg-sorting-select").each(function(){var c=jQuery(this).val();clearTimeout(b),a.find(".tp-esg-item").tsort({data:c,forceStrings:"false",order:d}),b=setTimeout(function(){opt=getOptions(a),setItemsOnPages(opt),organiseGrid(opt),setOptions(a,opt)},200)})}),jQuery(opt.filterGroupClass+".esg-sorting-select,"+opt.filterGroupClass+" .esg-sorting-select").each(function(){var c=jQuery(this);c.change(function(){a.find("iframe").css({visibility:"hidden"}),a.find(".video-eg").css({visibility:"hidden"});var d=jQuery(this).closest(".esg-sortbutton-wrapper").find(".esg-sortbutton-order"),e=c.val(),f=c.find("option:selected").text(),g=d.data("dir");stopAllVideos(!0,!0),clearTimeout(b),c.parent().parent().find(".sortby_data").text(f),a.find(".tp-esg-item").tsort({data:e,forceStrings:"false",order:g}),b=setTimeout(function(){opt=getOptions(a),setItemsOnPages(opt),organiseGrid(opt),setOptions(a,opt)},500)})})}function fixCenteredCoverElement(a,b,c){if(b==undefined&&(b=a.find(".esg-entry-cover")),c==undefined&&(c=a.find(".esg-entry-media")),b&&c){var d=c.height();punchgs.TweenLite.set(b,{height:d});var e=a.find(".esg-cc");punchgs.TweenLite.set(e,{top:(d-e.height())/2})}}function getBestFitColumn(a,b,c){var d=b,e=0,f=9999,g=0,h=a.column,i=(a.column,a.column),j=0,k=0;a.responsiveEntries!=undefined&&a.responsiveEntries.length>0&&jQuery.each(a.responsiveEntries,function(a,b){var c=b.width!=undefined?b.width:0,l=b.amount!=undefined?b.amount:0;f>c&&(f=c,h=l,k=a),c>g&&(g=c,lamount=l),c>e&&d>=c&&(e=c,i=l,j=a)}),f>b&&(i=h,j=k);var l=new Object;return l.index=j,l.column=i,"id"==c?l:i}function getOptions(a){return a.data("opt")}function setOptions(a,b){a.data("opt",b)}function checkMediaListeners(a){a.find("iframe").each(function(){var a=jQuery(this);a.attr("src").toLowerCase().indexOf("youtube")>0?prepareYT(a):a.attr("src").toLowerCase().indexOf("vimeo")>0?prepareVimeo(a):a.attr("src").toLowerCase().indexOf("wistia")>0?prepareWs(a):a.attr("src").toLowerCase().indexOf("soundcloud")>0&&prepareSoundCloud(a)}),a.find("video").each(function(){prepareVideo(jQuery(this))})}function waitMediaListeners(a){var b=setInterval(function(){a.find("iframe").each(function(){var a=jQuery(this);a.attr("src").toLowerCase().indexOf("youtube")>0?prepareYT(a)&&clearInterval(b):a.attr("src").toLowerCase().indexOf("vimeo")>0?prepareVimeo(a)&&clearInterval(b):a.attr("src").toLowerCase().indexOf("wistia")>0?prepareWs(a)&&clearInterval(b):a.attr("src").toLowerCase().indexOf("soundcloud")>0?prepareSoundCloud(a)&&clearInterval(b):clearInterval(b)}),a.find("video").each(function(){prepareVideo(jQuery(this))&&clearInterval(b)})},50)}function directionPrepare(a,b,c,d,e){var f=new Object;switch(a){case 0:f.x=0,f.y="in"==b?0-d:10+d,f.y=e&&"in"==b?f.y-5:f.y;break;case 1:f.y=0,f.x="in"==b?c:-10-c,f.x=e&&"in"==b?f.x+5:f.x;break;case 2:f.y="in"==b?d:-10-d,f.x=0,f.y=e&&"in"==b?f.y+5:f.y;break;case 3:f.y=0,f.x="in"==b?0-c:10+c,f.x=e&&"in"==b?f.x-5:f.x}return f}function getDir(a,b){var c=a.width(),d=a.height(),e=(b.x-a.offset().left-c/2)*(c>d?d/c:1),f=(b.y-a.offset().top-d/2)*(d>c?c/d:1),g=Math.round((Math.atan2(f,e)*(180/Math.PI)+180)/90+3)%4;return g}function hideUnderElems(a){a.find(".eg-handlehideunder").each(function(){var b=jQuery(this),c=b.data("hideunder"),d=b.data("hideunderheight"),e=b.data("hidetype");b.data("knowndisplay")==undefined&&b.data("knowndisplay",b.css("display")),a.width()<c&&c!=undefined||a.height()<d&&d!=undefined?"visibility"==e?b.addClass("forcenotvisible"):"display"==e&&b.addClass("forcenotdisplay"):"visibility"==e?b.removeClass("forcenotvisible"):"display"==e&&b.removeClass("forcenotdisplay");
})}function offsetParrents(a,b){var c=b.closest(".mainul"),d=c.parent();if(b.position().top+b.height()>c.height()+40||0==a||0!=c.data("bh")&&c.data("bh")!=undefined&&b.position().top+b.height()>parseInt(c.data("bh"),0)+40){(c.data("bh")==undefined||0==c.data("bh"))&&c.data("bh",c.height()),(d.data("bh")==undefined||0==d.data("bh"))&&d.data("bh",d.height());var e=c.data("bh"),f=d.data("bh");0!=a?(c.data("alreadyinoff",!1),punchgs.TweenLite.to(c,.2,{height:e+a}),punchgs.TweenLite.to(d,.2,{height:f+a})):c.data("alreadyinoff")||(c.data("alreadyinoff",!0),punchgs.TweenLite.to(c,.3,{height:e,ease:punchgs.Power3.easeIn,onComplete:function(){c.data("bh",0),d.data("bh",0),c.data("alreadyinoff",!1)}}),punchgs.TweenLite.to(d,.3,{height:f,ease:punchgs.Power3.easeIn,onComplete:function(){c.data("bh",0),d.data("bh",0),c.data("alreadyinoff",!1)}}))}}function itemHoverAnim(a,b,c,d){1!=a.data("simplevideo")&&checkMediaListeners(a);var e=!1,f=a.find(".esg-media-poster");if(f.length>0&&0==f.css("opacity")&&(e=!0),a.find(".isplaying, .isinpause").length>0||e)return!1;clearTimeout(a.data("hovertimer"));var g=c.mainhoverdelay;"set"==b&&(g=0),a.data("hovertimer",setTimeout(function(){a.data("animstarted",1),punchgs.TweenLite.set(a,{z:.01,x:0,y:0,rotationX:0,rotationY:0,rotationZ:0}),a.addClass("esg-hovered");var e=a.find(".esg-entry-cover");if(punchgs.TweenLite.set(e,{transformStyle:"flat"}),"set"!=b&&fixCenteredCoverElement(a,e),a.find(".esg-entry-content").length>0&&"set"!=b&&"even"==c.layout){var f=a.data("pt"),g=a.data("pb"),h=a.data("pl"),i=a.data("pr"),j=a.data("bt"),k=a.data("bb"),l=a.data("bl"),m=a.data("br");if(a.data("hhh",a.outerHeight()),a.data("www",a.outerWidth()),punchgs.TweenLite.set(a.find(".esg-entry-content"),{display:"block"}),punchgs.TweenLite.set(a.find(".esg-entry-media"),{height:a.data("hhh")}),punchgs.TweenLite.set(a,{z:.1,zIndex:50,x:0-(h+i+m+l)/2,y:0-(f+g+j+k)/2,height:"auto",width:a.data("www")+h+i+l+m}),"on"==c.evenGridMasonrySkinPusher){var n=a.height()-a.data("hhh");offsetParrents(n,a)}a.css({paddingTop:f+"px",paddingLeft:h+"px",paddingRight:i+"px",paddingBottom:i+"px"}),a.css({borderTopWidth:j+"px",borderBottomWidth:k+"px",borderLeftWidth:l+"px",borderRightWidth:m+"px"}),1!=c.inanimation&&punchgs.TweenLite.set(a.closest(".esg-overflowtrick"),{overflow:"visible",overwrite:"all"})}jQuery.each(esgAnimmatrix,function(c,e){a.find(e[0]).each(function(){var c=jQuery(this),f=c.data("delay")!=undefined?c.data("delay"):0;animfrom=e[2],animto=e[3],animto.delay=f,animto.overwrite="all",animfrom.overwrite="all",animto.transformStyle="flat",animto.force3D=!0;var g=0,h=e[0].indexOf("out")>-1;c.hasClass("esg-entry-media")||h||(animto.clearProps="transform"),h&&(animfrom.clearProps="transform"),animto.z=.001,animfrom.transformPerspective==undefined&&(animfrom.transformPerspective=1e3),c.hasClass("esg-overlay")&&(animfrom.z==undefined&&(animfrom.z=-.002),animto.z=-1e-4);var i=c;if(c.hasClass("esg-entry-media")&&c.find(".esg-media-video").length>0)return!0;var j=punchgs.TweenLite.killTweensOf(i,!1);if("set"==b){var j=punchgs.TweenLite.set(i,animfrom);h&&j.eventCallback("onComplete",resetTransforms,[i])}else switch(e[0]){case".esg-shifttotop":animto.y=0-a.find(".esg-bc.eec").last().height();var j=punchgs.TweenLite.fromTo(c,.5,{y:0},{y:animto.y});break;case".esg-slide":var k=directionPrepare(d,"in",a.width(),a.height()),l=new Object,m=new Object;jQuery.extend(l,animfrom),jQuery.extend(m,animto),l.css.x=k.x,l.css.y=k.y;var j=punchgs.TweenLite.fromTo(i,e[1],l,m,g);break;case".esg-slideout":var k=directionPrepare(d,"out",a.width(),a.height()),l=new Object,m=new Object;jQuery.extend(l,animfrom),jQuery.extend(m,animto),m.x=k.x,m.y=k.y,m.clearProps="";var j=punchgs.TweenLite.fromTo(i,e[1],l,m,g);break;default:var j=punchgs.TweenLite.fromTo(i,e[1],animfrom,animto,g)}})})},g))}function videoClickEvent(a,b,c,d){a.css({transform:"none","-moz-transform":"none","-webkit-transform":"none"}),a.closest(".esg-overflowtrick").css({transform:"none","-moz-transform":"none","-webkit-transform":"none"}),a.closest("ul").css({transform:"none","-moz-transform":"none","-webkit-transform":"none"}),d||a.find(".esg-media-video").each(function(){var b=jQuery(this);if(b.data("youtube")!=undefined&&0==a.find(".esg-youtube-frame").length){var c=a.find(".esg-entry-media"),d="https://www.youtube.com/embed/"+b.data("youtube")+"?version=3&enablejsapi=1&html5=1&controls=1&autohide=1&rel=0&showinfo=0";c.append('<iframe class="esg-youtube-frame" wmode="Opaque" style="position:absolute;top:0px;left:0px;display:none" width="'+b.attr("width")+'" height="'+b.attr("height")+'" data-src="'+d+'" src="about:blank"></iframe>')}if(b.data("vimeo")!=undefined&&0==a.find(".esg-vimeo-frame").length){var c=a.find(".esg-entry-media"),e="http://player.vimeo.com/video/"+b.data("youtube")+"?title=0&byline=0&html5=1&portrait=0&api=1;";c.append('<iframe class="esg-vimeo-frame"  allowfullscreen="false" style="position:absolute;top:0px;left:0px;display:none" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" width="'+b.attr("width")+'" height="'+b.attr("height")+'" data-src="'+e+'" src="about:blank"></iframe>')}if(b.data("wistia")!=undefined&&0==a.find(".esg-wistia-frame").length){var c=a.find(".esg-entry-media"),f="https://fast.wistia.net/embed/iframe/"+b.data("wistia")+"?version=3&enablejsapi=1&html5=1&controls=1&autohide=1&rel=0&showinfo=0";c.append('<iframe class="esg-wistia-frame" wmode="Opaque" style="position:absolute;top:0px;left:0px;display:none" width="'+b.attr("width")+'" height="'+b.attr("height")+'" data-src="'+f+'" src="about:blank"></iframe>')}if(b.data("soundcloud")!=undefined&&0==a.find(".esg-soundcloud-frame").length){var c=a.find(".esg-entry-media"),g="https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/"+b.data("soundcloud")+"&auto_play=false&hide_related=false&visual=true&show_artwork=true";c.append('<iframe class="esg-soundcloud-frame" allowfullscreen="false" style="position:absolute;top:0px;left:0px;display:none" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" width="'+b.attr("width")+'" height="'+b.attr("height")+'" scrolling="no" frameborder="no" data-src="'+g+'" src="about:blank"></iframe>')}if((b.data("mp4")!=undefined||b.data("webm")!=undefined||b.data("ogv")!=undefined)&&0==a.find(".esg-video-frame").length){var c=a.find(".esg-entry-media");c.append('<video class="esg-video-frame" style="position:absolute;top:0px;left:0px;display:none" width="'+b.attr("width")+'" height="'+b.attr("height")+'" data-origw="'+b.attr("width")+'" data-origh="'+b.attr("height")+'" ></video'),b.data("mp4")!=undefined&&c.find("video").append('<source src="'+b.data("mp4")+'" type="video/mp4" />'),b.data("webm")!=undefined&&c.find("video").append('<source src="'+b.data("webm")+'" type="video/webm" />'),b.data("ogv")!=undefined&&c.find("video").append('<source src="'+b.data("ogv")+'" type="video/ogg" />')}}),adjustMediaSize(a,!0,null,c);var e=a.find(".esg-youtube-frame");0==e.length&&(e=a.find(".esg-vimeo-frame")),0==e.length&&(e=a.find(".esg-wistia-frame")),0==e.length&&(e=a.find(".esg-soundcloud-frame")),0==e.length&&(e=a.find(".esg-video-frame"));var f=a.find(".esg-entry-cover"),g=a.find(".esg-media-poster");if("about:blank"==e.attr("src")){e.attr("src",e.data("src")),loadVideoApis(b,c),d||punchgs.TweenLite.set(e,{opacity:0,display:"block"});var h=setInterval(function(){e.attr("src").toLowerCase().indexOf("youtube")>0?1==prepareYT(e)&&(clearInterval(h),d||(is_mobile()?(punchgs.TweenLite.set(e,{autoAlpha:1}),punchgs.TweenLite.set(g,{autoAlpha:0}),punchgs.TweenLite.set(f,{autoAlpha:0})):(punchgs.TweenLite.to(e,.5,{autoAlpha:1}),punchgs.TweenLite.to(g,.5,{autoAlpha:0}),punchgs.TweenLite.to(f,.5,{autoAlpha:0}),playYT(e,d)))):e.attr("src").toLowerCase().indexOf("vimeo")>0?1==prepareVimeo(e)&&(clearInterval(h),d||(is_mobile()?(punchgs.TweenLite.set(e,{autoAlpha:1}),punchgs.TweenLite.set(g,{autoAlpha:0}),punchgs.TweenLite.set(f,{autoAlpha:0})):(punchgs.TweenLite.to(e,.5,{autoAlpha:1}),punchgs.TweenLite.to(g,.5,{autoAlpha:0}),punchgs.TweenLite.to(f,.5,{autoAlpha:0})),playVimeo(e,d))):e.attr("src").toLowerCase().indexOf("wistia")>0?1==prepareWs(e)&&(clearInterval(h),d||(is_mobile()?(punchgs.TweenLite.set(e,{autoAlpha:1}),punchgs.TweenLite.set(g,{autoAlpha:0}),punchgs.TweenLite.set(f,{autoAlpha:0})):(punchgs.TweenLite.to(e,.5,{autoAlpha:1}),punchgs.TweenLite.to(g,.5,{autoAlpha:0}),punchgs.TweenLite.to(f,.5,{autoAlpha:0}),playYT(e,d)))):e.attr("src").toLowerCase().indexOf("soundcloud")>0&&1==prepareSoundCloud(e)&&(clearInterval(h),d||(is_mobile()?(punchgs.TweenLite.set(e,{autoAlpha:1}),punchgs.TweenLite.set(g,{autoAlpha:0}),punchgs.TweenLite.set(f,{autoAlpha:0})):(punchgs.TweenLite.to(e,.5,{autoAlpha:1}),punchgs.TweenLite.to(g,.5,{autoAlpha:0}),punchgs.TweenLite.to(f,.5,{autoAlpha:0})),playSC(e,d)))},100)}else if(e.hasClass("esg-video-frame")){loadVideoApis(b,c),punchgs.TweenLite.set(e,{opacity:0,display:"block"});var h=setInterval(function(){1==prepareVideo(e)&&(clearInterval(h),d||(is_mobile()?(punchgs.TweenLite.set(e,{autoAlpha:1}),punchgs.TweenLite.set(g,{autoAlpha:0}),punchgs.TweenLite.set(f,{autoAlpha:0})):(punchgs.TweenLite.to(e,.5,{autoAlpha:1}),punchgs.TweenLite.to(g,.5,{autoAlpha:0}),punchgs.TweenLite.to(f,.5,{autoAlpha:0})),playVideo(e,d)))},100)}else d||(is_mobile()?(punchgs.TweenLite.set(e,{autoAlpha:1}),punchgs.TweenLite.set(g,{autoAlpha:0}),punchgs.TweenLite.set(f,{autoAlpha:0})):(punchgs.TweenLite.set(e,{opacity:0,display:"block"}),punchgs.TweenLite.to(e,.5,{autoAlpha:1}),punchgs.TweenLite.to(g,.5,{autoAlpha:0}),punchgs.TweenLite.to(f,.5,{autoAlpha:0}))),e.attr("src")!=undefined&&(e.attr("src").toLowerCase().indexOf("youtube")>0&&playYT(e,d),e.attr("src").toLowerCase().indexOf("vimeo")>0&&playVimeo(e,d),e.attr("src").toLowerCase().indexOf("wistia")>0&&playWs(e,d),e.attr("src").toLowerCase().indexOf("soundcloud")>0&&playSC(e,d))}function prepareItemsInGrid(a,b){var c=a.container;c.addClass("esg-container"),b||c.find(".mainul>li").each(function(){jQuery(this).addClass("eg-newli")});var d=c.find(".mainul>.eg-newli"),e=(100/a.column,a.aspectratio),f=c.find(".esg-overflowtrick").parent().width(),g=(c.find("ul").first(),c.find(".esg-overflowtrick").first(),0);e=e.split(":"),aratio=parseInt(e[0],0)/parseInt(e[1],0),g=f/a.column/aratio,jQuery.each(d,function(b,d){var e=jQuery(d),f=e.find(".esg-entry-media"),g=f.find("img").attr("src");e.removeClass("eg-newli"),punchgs.TweenLite.set(e,{force3D:"auto",autoAlpha:0,opacity:0}),e.addClass("tp-esg-item"),"even"==a.layout?g!=undefined&&(e.find(".esg-entry-media").wrap('<div class="esg-entry-media-wrapper" style="width:100%;height:100%; overflow:hidden;position:relative;"></div>'),f.find("img").css({top:"0px",left:"0px",width:"100%",height:"auto",visibility:"visible",display:"block"})):e.find(".esg-entry-media").wrap('<div class="esg-entry-media-wrapper" style="overflow:hidden;position:relative;"></div>'),e.find(".esg-media-video").each(function(){var b=jQuery(this),d=e.find(".esg-entry-media"),f="display:none;",g="data-src=",h="src=";if(b.data("poster")!=undefined&&b.data("poster").length>3?"even"!=a.layout?(d.append('<img class="esg-media-poster" src="'+b.data("poster")+'" width="'+b.attr("width")+'" height="'+b.attr("height")+'">'),d.find("img").css({top:"0px",left:"0px",width:"100%",height:"auto",visibility:"visible",display:"block"})):(d.append('<div class="esg-media-poster" style="background:url('+b.data("poster")+'); background-size:cover; background-position:center center">'),d.find(".esg-media-poster").css({width:"100%",height:"100%",visibility:"visible",position:"relative",display:"block"})):(e.find(".esg-entry-cover").remove(),f="display:block;",g="src=",h="data-src=",e.data("simplevideo",1)),0==e.find(".esg-click-to-play-video").length&&(e.find(".esg-entry-cover").find("*").each(function(){0==jQuery(this).closest("a").length&&0==jQuery(this).find("a").length&&jQuery(this).addClass("esg-click-to-play-video")}),e.find(".esg-overlay").addClass("esg-click-to-play-video")),b.data("youtube")!=undefined){var i="https://www.youtube.com/embed/"+b.data("youtube")+"?version=3&enablejsapi=1&html5=1&controls=1&autohide=1&rel=0&showinfo=0";d.append('<iframe class="esg-youtube-frame" wmode="Opaque" style="position:absolute;top:0px;left:0px;'+f+'" width="'+b.attr("width")+'" height="'+b.attr("height")+'" '+g+'"'+i+'" '+h+'"about:blank"></iframe>')}if(b.data("vimeo")!=undefined){var j="http://player.vimeo.com/video/"+b.data("vimeo")+"?title=0&byline=0&html5=1&portrait=0&api=1";d.append('<iframe class="esg-vimeo-frame" style="position:absolute;top:0px;left:0px;'+f+'" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""  width="'+b.attr("width")+'" height="'+b.attr("height")+'" '+g+'"'+j+'" '+h+'"about:blank"></iframe>')}if(b.data("wistia")!=undefined){var k="https://fast.wistia.net/embed/iframe/"+b.data("wistia")+"?version=3&enablejsapi=1&html5=1&controls=1&autohide=1&rel=0&showinfo=0";d.append('<iframe class="esg-wistia-frame" wmode="Opaque" style="position:absolute;top:0px;left:0px;'+f+'" width="'+b.attr("width")+'" height="'+b.attr("height")+'" '+g+'"'+k+'" '+h+'"about:blank"></iframe>')}if(b.data("soundcloud")!=undefined){var l="https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/"+b.data("soundcloud")+"&auto_play=false&hide_related=false&visual=true&show_artwork=true";d.append('<iframe class="esg-soundcloud-frame" style="position:absolute;top:0px;left:0px;'+f+'" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" width="'+b.attr("width")+'" height="'+b.attr("height")+'" '+g+'"'+l+'" '+h+'"about:blank"></iframe>')}(b.data("mp4")!=undefined||b.data("webm")!=undefined||b.data("ogv")!=undefined)&&(d.append('<video class="esg-video-frame" controls style="position:absolute;top:0px;left:0px;'+f+'" width="'+b.attr("width")+'" height="'+b.attr("height")+'" data-origw="'+b.attr("width")+'" data-origh="'+b.attr("height")+'"></video'),b.data("mp4")!=undefined&&d.find("video").append('<source src="'+b.data("mp4")+'" type="video/mp4" />'),b.data("webm")!=undefined&&d.find("video").append('<source src="'+b.data("webm")+'" type="video/webm" />'),b.data("ogv")!=undefined&&d.find("video").append('<source src="'+b.data("ogv")+'" type="video/ogg" />')),e.find(".esg-click-to-play-video").click(function(){var b=jQuery(this).closest(".tp-esg-item");videoClickEvent(b,c,a)}),1==e.data("simplevideo")&&waitMediaListeners(e)}),0==e.find(".esg-media-video").length&&e.find(".esg-click-to-play-video").remove(),adjustMediaSize(e,!0,null,a),e.find(".esg-entry-content").length>0&&e.find(".esg-media-cover-wrapper").length>0&&(e.find(".esg-entry-content").index()<e.find(".esg-media-cover-wrapper").index()||e.find(".esg-entry-content").addClass("esg-notalone")),e.find(".esg-entry-cover").each(function(){var a=jQuery(this),b=a.data("clickable");a.find(".esg-top").wrapAll('<div class="esg-tc eec"></div>'),a.find(".esg-left").wrapAll('<div class="esg-lc eec"></div>'),a.find(".esg-right").wrapAll('<div class="esg-rc eec"></div>'),a.find(".esg-center").wrapAll('<div class="esg-cc eec"></div>'),a.find(".esg-bottom").wrapAll('<div class="esg-bc eec"></div>'),a.find(".eec").append("<div></div>"),"on"==b&&a.find(".esg-overlay").length>=1&&a.click(function(a){0==jQuery(a.target).closest("a").length&&jQuery(this).find(".eg-invisiblebutton")[0].click()}).css({cursor:"pointer"})}),e.data("pt",parseInt(e.css("paddingTop"),0)),e.data("pb",parseInt(e.css("paddingBottom"),0)),e.data("pl",parseInt(e.css("paddingLeft"),0)),e.data("pr",parseInt(e.css("paddingRight"),0)),e.data("bt",parseInt(e.css("borderTopWidth"),0)),e.data("bb",parseInt(e.css("borderBottomWidth"),0)),e.data("bl",parseInt(e.css("borderLeftWidth"),0)),e.data("br",parseInt(e.css("borderRightWidth"),0)),e.find(".esg-entry-content").length>0&&"even"==a.layout&&(e.css({paddingTop:"0px",paddingLeft:"0px",paddingRight:"0px",paddingBottom:"0px"}),e.css({borderTopWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"})),e.find(".eg-handlehideunder").each(function(){}),a.ajaxContentTarget!=undefined&&jQuery("#"+a.ajaxContentTarget).length>0&&e.find(".eg-ajaxclicklistener, a").each(function(){var b=jQuery(this),d=jQuery("#"+a.ajaxContentTarget).find(".eg-ajax-target");d.parent().hasClass("eg-ajaxanimwrapper")||d.wrap('<div class="eg-ajaxanimwrapper" style="position:relative;overflow:hidden;"></div>'),b.data("ajaxsource")!=undefined&&b.data("ajaxtype")!=undefined&&(b.addClass("eg-ajax-a-button"),b.click(function(){return loadMoreContent(c,a,b),!(d.length>0)}))}),e.find(".eg-triggerfilter").click(function(){var b=jQuery(this).data("filter");return jQuery(a.filterGroupClass+".esg-filterbutton,"+a.filterGroupClass+" .esg-filterbutton").each(function(){jQuery(this).data("filter")==b&&jQuery(this).trigger("click")}),!1}).css({cursor:"pointer"}),e.on("mouseenter.hoverdir, mouseleave.hoverdir",function(b){var c=jQuery(this),d=getDir(c,{x:b.pageX,y:b.pageY});if("mouseenter"===b.type)itemHoverAnim(jQuery(this),"nope",a,d);else{if(clearTimeout(c.data("hovertimer")),1==c.data("animstarted")){c.data("animstarted",0),c.removeClass("esg-hovered");var e=(c.find(".esg-entry-cover"),0);c.find(".esg-entry-content").length>0&&"even"==a.layout&&(punchgs.TweenLite.set(c.find(".esg-entry-content"),{display:"none"}),punchgs.TweenLite.set(c,{zIndex:5}),punchgs.TweenLite.set(c.closest(".esg-overflowtrick"),{overflow:"hidden",overwrite:"all"}),c.css({paddingTop:"0px",paddingLeft:"0px",paddingRight:"0px",paddingBottom:"0px"}),c.css({borderTopWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"}),c.find(".esg-entry-media").css({height:"100%"}),punchgs.TweenLite.set(c,{z:0,height:c.data("hhh"),width:c.data("www"),x:0,y:0}),"on"==a.evenGridMasonrySkinPusher&&offsetParrents(0,c)),jQuery.each(esgAnimmatrix,function(a,b){c.find(b[0]).each(function(){var a=jQuery(this),f=a.data("delay")!=undefined?a.data("delay"):0,g=b[5],h=0;switch(animobject=a,splitted=!1,isOut=b[0].indexOf("out")>-1,f>e&&(e=f),g.z==undefined&&(g.z=1),b[0]){case".esg-slide":var i=directionPrepare(d,"in",c.width(),c.height(),!0);g.x=i.x,g.y=i.y;var j=punchgs.TweenLite.to(animobject,.5,{y:g.y,x:g.x,overwrite:"all",onCompleteParams:[animobject],onComplete:function(a){punchgs.TweenLite.set(a,{autoAlpha:0})}});break;case".esg-slideout":var i=directionPrepare(d,"out",c.width(),c.height());g.x=0,g.y=0,g.overwrite="all";var j=punchgs.TweenLite.fromTo(animobject,.5,{autoAlpha:1,x:i.x,y:i.y},{x:0,y:0,autoAlpha:1,overwrite:"all"});break;default:g.force3D="auto";var j=punchgs.TweenLite.to(animobject,b[4],g,h)}isOut&&j.eventCallback("onComplete",resetTransforms,[animobject])})})}c.hasClass("esg-demo")&&setTimeout(function(){itemHoverAnim(c)},800)}}),itemHoverAnim(e,"set",a),e.hasClass("esg-demo")&&itemHoverAnim(e)}),loadVideoApis(c,a),setItemsOnPages(a)}function resetTransforms(a){punchgs.TweenLite.set(a,{clearProps:"transform",css:{clearProps:"transform"}})}function adjustMediaSize(a,b,c,d){a.find("iframe").length>0&&a.find("iframe").each(function(){var e=jQuery(this);e.data("origw",e.attr("width")),e.data("origh",e.attr("height"));var f=e.data("origw"),g=e.data("origh");if(c!=undefined)var h=c.itemw;else var h=a.width();ifh=h/f*g,h=Math.round(h),ifh=Math.round(ifh),e.data("neww",h),e.data("newh",ifh),b&&"even"!=d.layout?(punchgs.TweenLite.set(e,{width:h,height:ifh}),punchgs.TweenLite.set(a.find(".esg-media-poster"),{width:h,height:ifh}),punchgs.TweenLite.set(a.find(".esg-entry-media"),{width:h,height:ifh})):(punchgs.TweenLite.set(e,{width:"100%",height:"100%"}),punchgs.TweenLite.set(a.find(".esg-media-poster"),{width:"100%",height:"100%"}),punchgs.TweenLite.set(a.find(".esg-entry-media"),{width:"100%",height:"100%"}))}),a.find(".esg-video-frame").length>0&&a.find(".esg-video-frame").each(function(){var e=jQuery(this);e.parent().data("origw",e.data("origw")),e.parent().data("origh",e.data("origh"));var f=e.data("origw"),g=e.data("origh");if(c!=undefined)var h=c.itemw;else var h=a.width();ifh=h/f*g,h=Math.round(h),ifh=Math.round(ifh),e.data("neww",h),e.data("newh",ifh),b&&"even"!=d.layout?(punchgs.TweenLite.set(e,{width:h,height:ifh}),punchgs.TweenLite.set(a.find(".esg-media-poster"),{width:h,height:ifh}),punchgs.TweenLite.set(a.find(".esg-entry-media"),{width:h,height:ifh})):(punchgs.TweenLite.set(e,{width:"100%",height:"100%"}),punchgs.TweenLite.set(a.find(".esg-media-poster"),{width:"100%",height:"100%"}),punchgs.TweenLite.set(a.find(".esg-entry-media"),{width:"100%",height:"100%"}))})}function setItemsOnPages(a){var b=a.container,c=b.find(".mainul>li"),d=a.column*a.row,e=a.rowItemMultiplier,f=e.length;if(f>0&&"even"==a.layout){d=0;for(var g=0;g<a.row;g++){var h=g-f*Math.floor(g/f);d+=e[h][a.columnindex]}}if("on"==a.evenCobbles&&a.cobblesPattern!=undefined){var i=0,d=0;jQuery.each(c,function(b){var c=jQuery(c),e=c.data("cobblesw"),f=c.data("cobblesh");if(a.cobblesPattern!=undefined&&a.cobblesPattern.length>2){var g=getCobblePat(a.cobblesPattern,b);e=parseInt(g.w,0),f=parseInt(g.h,0)}e=e==undefined?1:e,f=f==undefined?1:f,a.column<e&&(e=a.column),i+=e*f,a.column*a.row>=i&&d++})}var j=d*a.currentpage,k=(b.find(".esg-overflowtrick").parent().width(),j+d),l=jQuery(a.filterGroupClass+".esg-filterbutton.selected:not(.esg-navigationbutton),"+a.filterGroupClass+" .esg-filterbutton.selected:not(.esg-navigationbutton)"),m=0;if(jQuery(a.filterGroupClass+".esg-filter-wrapper, "+a.filterGroupClass+" .esg-filter-wrapper").length>0?jQuery.each(c,function(b,c){var d=jQuery(c);d.find(".esgbox").each(function(){"all"==a.lightBoxMode?jQuery(this).attr("rel","group"):"contentgroup"!=a.lightBoxMode&&jQuery(this).attr("rel","")});var e=!0,f=0;jQuery.each(l,function(a,b){d.hasClass(jQuery(b).data("filter"))&&(e=!1,f++)}),"and"==a.filterLogic&&f<l.length&&(e=!0),hidsbutton=jQuery(a.filterGroupClass+".esg-filter-wrapper .hiddensearchfield"),hidsbutton.hasClass("eg-forcefilter")&&f<l.length&&(e=!0),m>=j&&k>m&&!e?(d.addClass("itemtoshow").removeClass("itemishidden").removeClass("itemonotherpage"),("filterpage"==a.lightBoxMode||"filterall"==a.lightBoxMode)&&d.find(".esgbox").attr("rel","group"),m++):("filterall"==a.lightBoxMode&&d.find(".esgbox").attr("rel","group"),e?d.addClass("itemishidden").removeClass("itemtoshow").removeClass("fitsinfilter"):(j>m||m>=k?(d.addClass("itemonotherpage"),d.removeClass("itemtoshow"),m++):(d.addClass("itemtoshow").removeClass("itemishidden").removeClass("itemonotherpage"),m++),d.addClass("fitsinfilter")))}):jQuery.each(c,function(b,c){var d=jQuery(c);d.find(".esgbox").each(function(){"all"==a.lightBoxMode?jQuery(this).attr("rel","group"):"contentgroup"!=a.lightBoxMode&&jQuery(this).attr("rel","")}),m>=j&&k>m?(d.addClass("itemtoshow").removeClass("itemishidden").removeClass("itemonotherpage"),m++):(j>m||m>=k?(d.addClass("itemonotherpage"),d.removeClass("itemtoshow"),m++):(d.addClass("itemtoshow").removeClass("itemishidden").removeClass("itemonotherpage"),m++),d.addClass("fitsinfilter"))}),a.nonefiltereditems=b.find(".itemtoshow, .fitsinfilter").length,"none"!=a.loadMoreType){var n=0,o=!1;l.each(function(){var a=jQuery(this).data("filter");if(a!=undefined){var c=b.find("."+a).length;n+=c,0==c&&(o=!0)}}),(0==l.length||1==l.length)&&(n=1),(0==n||o)&&loadMoreItems(b,a)}var p=jQuery(a.filterGroupClass+".esg-pagination,"+a.filterGroupClass+" .esg-pagination");p.find(".esg-pagination").remove(),p.html(""),a.maxpage=0;var q,r=Math.ceil(a.nonefiltereditems/d);if(a.realmaxpage=r,r>7&&"on"==a.smartPagination)if(a.currentpage<3){for(var g=0;4>g;g++)q=g==a.currentpage?"selected":"",a.maxpage++,p.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+q+'" data-page="'+g+'">'+(g+1)+"</div>");p.append('<div class="esg-navigationbutton">...</div>'),p.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+q+'" data-page="'+(r-1)+'">'+r+"</div>")}else if(r-a.currentpage<4){p.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+q+'" data-page="0">1</div>'),p.append('<div class="esg-navigationbutton">...</div>');for(var g=r-4;r>g;g++)q=g==a.currentpage?"selected":"",a.maxpage++,p.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+q+'" data-page="'+g+'">'+(g+1)+"</div>")}else{p.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+q+'" data-page="0">1</div>'),p.append('<div class="esg-navigationbutton">...</div>');for(var g=a.currentpage-1;g<a.currentpage+2;g++)q=g==a.currentpage?"selected":"",a.maxpage++,p.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+q+'" data-page="'+g+'">'+(g+1)+"</div>");p.append('<div class="esg-navigationbutton">...</div>'),p.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+q+'" data-page="'+(r-1)+'">'+r+"</div>")}else for(var g=0;r>g;g++)q=g==a.currentpage?"selected":"",a.maxpage++,p.append('<div class="esg-navigationbutton esg-filterbutton esg-pagination-button '+q+'" data-page="'+g+'">'+(g+1)+"</div>");if(1==a.maxpage?(jQuery(a.filterGroupClass+".esg-navigationbutton,"+a.filterGroupClass+" .esg-navigationbutton").not(".esg-loadmore").css({display:"none"}),p.css({display:"none"})):(jQuery(a.filterGroupClass+".esg-navigationbutton,"+a.filterGroupClass+" .esg-navigationbutton").css({display:"inline-block"}),p.css({display:"inline-block"})),a.currentpage>=Math.ceil(a.nonefiltereditems/d)){a.oldpage=a.currentpage,a.currentpage=0;var s=0;b.find(".itemtoshow, .fitsinfilter").each(function(){s++,k>s&&jQuery(this).removeClass("itemonotherpage")}),p.find(".esg-pagination-button").first().addClass("selected")}a.currentpage<0&&(a.currentpage=0),p.find(".esg-pagination-button").on("click",function(){a.oldpage=a.currentpage,a.currentpage=jQuery(this).data("page"),a=getOptions(b);var c=getBestFitColumn(a,jQuery(window).width(),"id");a.column=c.column,a.columnindex=c.index,"on"===a.cookies.pagination&&a.cookies.searchjusttriggered!==!0&&createCookie("grid_"+a.girdID+"_pagination",a.currentpage,a.cookies.timetosave*(1/60/60)),setItemsOnPages(a),organiseGrid(a),setOptions(b,a),stopAllVideos(!0),"on"==a.paginationScrollToTop&&jQuery("html, body").animate({scrollTop:b.offset().top-a.paginationScrollToTopOffset},{queue:!1,speed:.5})}),a.firstshowever==undefined&&jQuery(a.filterGroupClass+".esg-navigationbutton,"+a.filterGroupClass+" .esg-navigationbutton").css({visibility:"hidden"})}function waittorungGrid(a,b,c){var d=a.closest(".mainul");clearTimeout(d.data("intreorganisier")),d.hasClass("gridorganising")?d.data("intreorganisier",setTimeout(function(){waittorungGrid(a,b,c)},10)):runGrid(b,c)}function loadAllPrepared(a,b){if(1==a.data("preloading"))return!1;var c=b.aspectratio,d=(parseInt(c[0],0)/parseInt(c[1],0),new Image);a.data("lazysrc")!=a.attr("src")&&a.data("lazysrc")!=undefined&&"undefined"!=a.data("lazysrc")&&a.data("lazysrc")!=undefined&&"undefined"!=a.data("lazysrc")&&a.attr("src",a.data("lazysrc")),a.data("preloading",1),d.onload=function(){a.data("lazydone",1),a.data("ww",d.width),a.data("hh",d.height),a.closest(".showmeonload").addClass("itemtoshow").removeClass("showmeonload").addClass("loadedmedia"),evenImageRatio(a,b),"on"==b.lazyLoad&&waittorungGrid(a,b,!0)},d.onerror=function(){a.data("lazydone",1),a.closest(".showmeonload").addClass("itemtoshow").removeClass("showmeonload").addClass("loadedmedia"),"on"==b.lazyLoad&&waittorungGrid(a,b,!0)},d.src=a.attr("src")!=undefined&&"undefined"!=a.attr("src")?a.attr("src"):a.data("src"),d.complete&&(a.data("lazydone",1),a.data("ww",d.width),a.data("hh",d.height),a.closest(".showmeonload").addClass("itemtoshow").removeClass("showmeonload").addClass("loadedmedia"),evenImageRatio(a,b),"on"==b.lazyLoad&&waittorungGrid(a,b,!0))}function organiseGrid(a){var b=a.container;a.listneractivated==undefined&&(b.on("visibleimagesloaded",function(){runGrid(a)}),a.listneractivated=!0,setOptions(b,a)),waitForLoads(b.find(".itemtoshow"),a)}function evenImageRatio(a,b,c){if("even"==b.layout&&a.is(":visible")){var d=b.aspectratio;d=d.split(":");var e=parseInt(d[0],0)/parseInt(d[1],0),f=a.data("ww"),g=a.data("lazydone");if(f==undefined&&1==g||"on"==b.forceFullScreen&&1==g||c&&f!=undefined){var h=a.data("hh"),i=f/h;if(i>=e){var j=h/d[1],k=h/j,l=f/j,m=(l-d[0])/2;m=100/d[0]*m,a.css({position:"absolute",width:"auto",height:"101%",top:"0%",left:0-m+"%"})}else{var j=f/d[0],k=h/j,l=f/j,m=(k-d[1])/2;m=100/d[1]*m,a.css({position:"absolute",width:"101%",height:"auto",left:"0%",top:0-m+"%"})}removeLLCover(a)}}else removeLLCover(a)}function removeLLCover(a){!a.hasClass("coverremoved")&&a.parent().find(".lazyloadcover").length>0&&(a.addClass("coverremoved"),punchgs.TweenLite.to(a.parent().find(".lazyloadcover"),.5,{autoAlpha:0,ease:punchgs.Power3.easeInOut,onComplete:function(){a.parent().find(".lazyloadcover").remove()}}))}function runGrid(a,b){var c=a.container;a.firstshowever==undefined?(c.is(":hidden")?(punchgs.TweenLite.set(c,{autoAlpha:1,display:"block"}),setTimeout(function(){runGridMain(a,b),jQuery(a.filterGroupClass+".esg-navigationbutton, "+a.filterGroupClass+" .esg-navigationbutton").css({visibility:"visible"})},300)):(runGridMain(a,b),jQuery(a.filterGroupClass+".esg-navigationbutton, "+a.filterGroupClass+" .esg-navigationbutton").css({visibility:"visible"})),a.firstshowever=1):(runGridMain(a,b),jQuery(a.filterGroupClass+".esg-navigationbutton, "+a.filterGroupClass+" .esg-navigationbutton").css({visibility:"visible"}))}function getCobblePat(a,b){var c=new Object;return c.w=1,c.h=1,a=a.split(","),a!=undefined&&(a=a[b-Math.floor(b/a.length)*a.length].split("x"),c.w=a[0],c.h=a[1]),c}function runGridMain(a,b){var c,d=a.container,e=d.find(".itemtoshow, .isvisiblenow").not(".ui-sortable-helper"),f=new Object,g=d.find("ul").first(),h=(d.find(".esg-overflowtrick").first(),a.aspectratio),i=0;a.aspectratioOrig=a.aspectratio,d.find(".mainul").addClass("gridorganising"),h=h.split(":"),c=parseInt(h[0],0)/parseInt(h[1],0),f.item=0,f.pagetoanimate=0-a.currentpage,f.col=0,f.row=0,f.pagecounter=0,f.itemcounter=0,f.fakecol=0,f.fakerow=0,f.maxheight=0,f.allcol=0,f.allrow=0,f.ulcurheight=0,f.ulwidth=g.width(),f.verticalsteps=1,f.currentcolumnheight=new Array;for(var j=0;j<a.column;j++)f.currentcolumnheight[j]=0;f.pageitemcounterfake=0,f.pageitemcounter=0,f.delaybasic=a.delayBasic!=undefined?a.delayBasic:.08,f.anim=a.pageAnimation,f.itemtowait=0,f.itemouttowait=0,f.ease="punchgs.Power1.easeInOut",f.easeout=f.ease,f.row=0,f.col=0;var k=a.rowItemMultiplier,l=k.length;if(a.column,f.y=0,f.fakey=0,d.find(".esg-overflowtrick").css({width:"100%"}),100==d.find(".esg-overflowtrick").width()&&d.find(".esg-overflowtrick").css({width:d.find(".esg-overflowtrick").parent().width()}),f.cwidth=d.find(".esg-overflowtrick").width()-2*a.overflowoffset,a.inanimation=!0,f.cwidth_n_spaces=f.cwidth-(a.column-1)*a.space,f.itemw=Math.round(f.cwidth_n_spaces/a.column),f.originalitemw=f.itemw,"on"==a.forceFullScreen&&(i=jQuery(window).height(),a.fullScreenOffsetContainer!=undefined))try{var m=a.fullScreenOffsetContainer.split(",");jQuery.each(m,function(b,c){i-=jQuery(c).outerHeight(!0),i<a.minFullScreenHeight&&(i=a.minFullScreenHeight)})}catch(a){}"even"==a.layout?(f.itemh=Math.round(0==Math.round(i)?f.cwidth_n_spaces/a.column/c:i/a.row),a.aspectratio=0==i?a.aspectratio:f.itemw+":"+f.itemh,l>0?punchgs.TweenLite.set(e,{display:"block",visibility:"visible",overwrite:"auto"}):punchgs.TweenLite.set(e,{display:"block",width:f.itemw,height:f.itemh,visibility:"visible",overwrite:"auto"})):punchgs.TweenLite.set(e,{display:"block",width:f.itemw,height:"auto",visibility:"visible",overwrite:"auto"}),b||punchgs.TweenLite.killTweensOf(e),f.originalitemh=f.itemh;for(var n=new Array,o=a.row*a.column*2,p=0;o>p;p++){for(var q=new Array,r=0;r<a.column;r++)q.push(0);n.push(q)}var s=0;0==e.length&&d.trigger("itemsinposition"),jQuery.each(e,function(b,e){var h=jQuery(e);if(f.itemw=f.originalitemw,"on"!=a.evenCobbles||h.hasClass("itemonotherpage")||h.hasClass("itemishidden")){
var j=f.row-l*Math.floor(f.row/l);"even"==a.layout&&l>0&&(a.column=k[j][a.columnindex],f.cwidth=d.find(".esg-overflowtrick").width()-2*a.overflowoffset,f.cwidth_n_spaces=f.cwidth-(a.column-1)*a.space,f.itemw=Math.round(f.cwidth_n_spaces/a.column),f.itemh=0==i?f.cwidth_n_spaces/a.column/c:i/a.row,a.aspectratio=0==i?a.aspectratio:f.itemw+":"+f.itemh,punchgs.TweenLite.set(h,{width:f.itemw,height:f.itemh,overwrite:"auto"}))}else{var m=h.data("cobblesw"),p=h.data("cobblesh");if(a.cobblesPattern!=undefined&&a.cobblesPattern.length>2){var q=getCobblePat(a.cobblesPattern,s);m=parseInt(q.w,0),p=parseInt(q.h,0),s++}m=m==undefined?1:m,p=p==undefined?1:p,a.column<m&&(m=a.column),f.cobblesorigw=f.originalitemw,f.cobblesorigh=f.originalitemh,f.itemw=f.itemw*m+(m-1)*a.space,f.itemh=f.originalitemh,f.itemh=f.itemh*p+(p-1)*a.space;var r=m+":"+p,t=!1,u=0,v=0;switch(r){case"1:1":do 0==n[u][v]&&(n[u][v]="1:1",t=!0,f.cobblesx=v,f.cobblesy=u),v++,v==a.column&&(v=0,u++),u>=o&&(t=!0);while(!t);break;case"1:2":do 0==n[u][v]&&o-1>u&&0==n[u+1][v]&&(n[u][v]="1:2",n[u+1][v]="1:2",f.cobblesx=v,f.cobblesy=u,t=!0),v++,v==a.column&&(v=0,u++),u>=o&&(t=!0);while(!t);break;case"1:3":do 0==n[u][v]&&o-2>u&&0==n[u+1][v]&&0==n[u+2][v]&&(n[u][v]="1:3",n[u+1][v]="1:3",n[u+2][v]="1:3",f.cobblesx=v,f.cobblesy=u,t=!0),v++,v==a.column&&(v=0,u++),u>=o&&(t=!0);while(!t);break;case"2:1":do 0==n[u][v]&&v<a.column-1&&0==n[u][v+1]&&(n[u][v]="2:1",n[u][v+1]="2:1",f.cobblesx=v,f.cobblesy=u,t=!0),v++,v==a.column&&(v=0,u++),u>=o&&(t=!0);while(!t);break;case"3:1":do 0==n[u][v]&&v<a.column-2&&0==n[u][v+1]&&0==n[u][v+2]&&(n[u][v]="3:1",n[u][v+1]="3:1",n[u][v+2]="3:1",f.cobblesx=v,f.cobblesy=u,t=!0),v++,v==a.column&&(v=0,u++),u>=o&&(t=!0);while(!t);break;case"2:2":do v<a.column-1&&o-1>u&&0==n[u][v]&&0==n[u][v+1]&&0==n[u+1][v]&&0==n[u+1][v+1]&&(n[u][v]="2:2",n[u+1][v]="2:2",n[u][v+1]="2:2",n[u+1][v+1]="2:2",f.cobblesx=v,f.cobblesy=u,t=!0),v++,v==a.column&&(v=0,u++),u>=o&&(t=!0);while(!t);break;case"3:2":do v<a.column-2&&o-1>u&&0==n[u][v]&&0==n[u][v+1]&&0==n[u][v+2]&&0==n[u+1][v]&&0==n[u+1][v+1]&&0==n[u+1][v+2]&&(n[u][v]="3:2",n[u][v+1]="3:2",n[u][v+2]="3:2",n[u+1][v]="3:2",n[u+1][v+1]="3:2",n[u+1][v+2]="3:2",f.cobblesx=v,f.cobblesy=u,t=!0),v++,v==a.column&&(v=0,u++),u>=o&&(t=!0);while(!t);break;case"2:3":do v<a.column-1&&o-2>u&&0==n[u][v]&&0==n[u][v+1]&&0==n[u+1][v]&&0==n[u+1][v+1]&&0==n[u+2][v+1]&&0==n[u+2][v+1]&&(n[u][v]="2:3",n[u][v+1]="2:3",n[u+1][v]="2:3",n[u+1][v+1]="2:3",n[u+2][v]="2:3",n[u+2][v+1]="2:3",f.cobblesx=v,f.cobblesy=u,t=!0),v++,v==a.column&&(v=0,u++),u>=o&&(t=!0);while(!t);break;case"3:3":do v<a.column-2&&o-2>u&&0==n[u][v]&&0==n[u][v+1]&&0==n[u][v+2]&&0==n[u+1][v]&&0==n[u+1][v+1]&&0==n[u+1][v+2]&&0==n[u+2][v]&&0==n[u+2][v+1]&&0==n[u+2][v+2]&&(n[u][v]="3:3",n[u][v+1]="3:3",n[u][v+2]="3:3",n[u+1][v]="3:3",n[u+1][v+1]="3:3",n[u+1][v+2]="3:3",n[u+2][v]="3:3",n[u+2][v+1]="3:3",n[u+2][v+2]="3:3",f.cobblesx=v,f.cobblesy=u,t=!0),v++,v==a.column&&(v=0,u++),u>=o&&(t=!0);while(!t)}a.aspectratio=f.itemw+":"+f.itemh,punchgs.TweenLite.set(h,{width:f.itemw,height:f.itemh,overwrite:"auto"});var w=h.find(".esg-entry-media").find("img");w.length>0&&evenImageRatio(w,a,!0)}if("even"==a.layout){var w=h.find(".esg-entry-media").find("img");w.length>0&&evenImageRatio(w,a,!0)}else!h.hasClass("itemtoshow")||h.width()==f.itemw&&0!=h.css("opacity")&&"hidden"!=h.css("visibility")?(adjustMediaSize(h,!0,f,a),f.itemh=h.height()):f=prepareItemToMessure(h,f,d);f=animateGrid(e,a,f),f.itemcounter++,g.height()<f.maxheight&&d.trigger("itemsinposition")}),a.aspectratio=a.aspectratioOrig,0==f.itemtowait&&(a.container.trigger("itemsinposition"),d.find(".mainul").removeClass("gridorganising"));var t=getBestFitColumn(a,jQuery(window).width(),"id");a.column=t.column,a.columnindex=t.index,a.maxheight=f.maxheight,a.container.trigger("itemsinposition"),a.inanimation=!0,a.started=!1,a.filterchanged=!1,a.silent=!1,a.silentout=!1,a.changedAnim="",setOptions(d,a);var u=d.parent().parent().find(".esg-loader");u.length>0&&punchgs.TweenLite.to(u,.2,{autoAlpha:0})}function prepareItemToMessure(a,b,c){return adjustMediaSize(a,!0,b,c.data("opt")),b.itemh=a.outerHeight(!0),b}function animateGrid(a,b,c){var d=jQuery(a);if(c.skipanim=!1,c.x=Math.round(c.col*c.itemw),"even"==b.layout);else{c.idealcol=0,c.backupcol=c.col;for(var e=0;e<b.column;e++)c.currentcolumnheight[c.idealcol]>c.currentcolumnheight[e]&&(c.idealcol=e);c.y=c.currentcolumnheight[c.idealcol],c.x=Math.round(c.idealcol*c.itemw)+c.idealcol*b.space,c.col=c.idealcol,c.itemh==undefined&&(c.itemh=0)}if(c.cobblesx!=undefined&&(c.x=c.cobblesx*c.cobblesorigw,c.y=c.cobblesy*c.cobblesorigh),c.waits=c.col*c.delaybasic+c.row*c.delaybasic*b.column,c.speed=b.animSpeed,c.inxrot=0,c.inyrot=0,c.outxrot=0,c.outyrot=0,c.inorigin="center center",c.outorigin="center center",c.itemh=Math.round(c.itemh),c.scale=1,c.outfade=0,c.infade=0,d.hasClass("itemonotherpage")&&(c.skipanim=!0),"horizontal-slide"==c.anim?(c.waits=0,c.hsoffset=0-c.cwidth-parseInt(b.space,10),c.hsoffsetout=0-c.cwidth-parseInt(b.space,10),b.oldpage!=undefined&&b.oldpage>b.currentpage&&(c.hsoffset=c.cwidth+parseInt(b.space,10),c.hsoffsetout=c.cwidth+parseInt(b.space,10))):"vertical-slide"==c.anim&&(c.waits=0,c.maxcalcheight=b.row*b.space+b.row*c.itemh,c.vsoffset=c.maxcalcheight+parseInt(b.space,10),c.vsoffsetout=c.maxcalcheight+parseInt(b.space,10),b.oldpage!=undefined&&b.oldpage>b.currentpage&&(c.vsoffset=0-c.maxcalcheight-parseInt(b.space,10),c.vsoffsetout=0-c.maxcalcheight-parseInt(b.space,10))),c.outwaits=c.waits,"even"==b.layout&&c.cobblesx==undefined&&(c.x=c.x+c.col*b.space),c.cobblesx!=undefined&&(c.x=c.x+c.cobblesx*b.space,c.y=c.y+c.cobblesy*b.space),("vertical-flip"==c.anim||"horizontal-flip"==c.anim||"vertical-flipbook"==c.anim||"horizontal-flipbook"==c.anim)&&(c=fakePositions(d,c,b)),"vertical-flip"==c.anim?(c.inxrot=-180,c.outxrot=180):"horizontal-flip"==c.anim&&(c.inyrot=-180,c.outyrot=180),c.outspeed=c.speed,"off"==b.animDelay&&(c.waits=0,c.outwaits=0),"scale"==c.anim?c.scale=0:"vertical-flipbook"==c.anim?(c.inxrot=-90,c.outxrot=90,c.inorigin="center top",c.outorigin="center bottom",c.waits=c.waits+c.speed/3,c.outfade=1,c.infade=1,c.outspeed=c.speed/1.2,c.ease="Sine.easeOut",c.easeout="Sine.easeIn","off"==b.animDelay&&(c.waits=c.speed/3,c.outwaits=0)):"horizontal-flipbook"==c.anim?(c.inyrot=-90,c.outyrot=-90,c.inorigin="left center",c.outorigin="right center",c.waits=c.waits+c.speed/2.4,c.outfade=1,c.infade=1,c.outspeed=c.speed/1.2,c.ease="Sine.easeOut",c.easeout="Sine.easeIn","off"==b.animDelay&&(c.waits=c.speed/3,c.outwaits=0)):("fall"==c.anim||"rotatefall"==c.anim)&&(c.outoffsety=100,c=fakePositions(d,c,b),c.outfade=0),"rotatefall"==c.anim?(c.rotatez=20,c.outorigin="left top",c.outfade=1,c.outoffsety=600):"rotatescale"==c.anim?(c.scale=0,c.inorigin="left bottom",c.outorigin="center center",c.faeout=1,c.outoffsety=100,c=fakePositions(d,c,b)):"stack"==c.anim&&(c.scale=0,c.inorigin="center center",c.faeout=1,c.ease="punchgs.Power3.easeOut",c=fakePositions(d,c,b),c.ease="Back.easeOut"),b.silent&&(c.waits=0,c.outwaits=0,c.speed=0,c.outspeed=0),b.silentout&&(c.outwaits=0,c.outspeed=.4,c.speed=.4,c.ease="punchgs.Power3.easeOut",c.easeout=c.ease),c.hooffset=b.overflowoffset,c.vooffset=b.overflowoffset,c.itemw+c.x-c.cwidth<20&&c.itemw+c.x-c.cwidth>-20){var f=c.itemw+c.x-c.cwidth;c.itemw=c.itemw-f}if(!d.hasClass("itemtoshow")&&!d.hasClass("fitsinfilter")||c.skipanim)c.itemouttowait++,punchgs.TweenLite.set(d,{zIndex:5}),d.removeClass("isvisiblenow"),d.css("opacity")>0?"stack"==c.anim?(punchgs.TweenLite.set(d,{zIndex:c.pageitemcounterfake+100}),punchgs.TweenLite.to(d,c.outspeed/2,{force3D:"auto",x:-20-c.itemw,rotationY:30,rotationX:10,ease:Sine.easeInOut,delay:c.outwaits}),punchgs.TweenLite.to(d,.01,{force3D:"auto",zIndex:c.pageitemcounterfake,delay:c.outwaits+c.outspeed/3}),punchgs.TweenLite.to(d,.2*c.outspeed,{force3D:"auto",delay:c.outwaits+.9*c.outspeed,autoAlpha:0,ease:Sine.easeInOut}),punchgs.TweenLite.to(d,c.outspeed/3,{zIndex:2,force3D:"auto",x:0,scale:.9,rotationY:0,rotationX:0,ease:Sine.easeInOut,delay:c.outwaits+c.outspeed/1.4,onComplete:function(){d.hasClass("itemtoshow")||punchgs.TweenLite.set(d,{autoAlpha:0,overwrite:"all",display:"none"}),c.itemouttowait--,0==c.itemouttowait&&b.container.trigger("itemsinposition")}})):"horizontal-flipbook"==c.anim||"vertical-flipbook"==c.anim?punchgs.TweenLite.to(d,c.outspeed,{force3D:"auto",zIndex:2,scale:c.scale,autoAlpha:c.outfade,transformOrigin:c.outorigin,rotationX:c.outxrot,rotationY:c.outyrot,ease:c.easeout,delay:c.outwaits,onComplete:function(){d.hasClass("itemtoshow")||punchgs.TweenLite.set(d,{autoAlpha:0,overwrite:"all",display:"none"}),c.itemouttowait--,0==c.itemouttowait&&b.container.trigger("itemsinposition")}}):"fall"==c.anim?punchgs.TweenLite.to(d,c.outspeed,{zIndex:2,force3D:"auto",y:c.outoffsety,autoAlpha:0,ease:c.easeout,delay:c.outwaits,onComplete:function(){d.hasClass("itemtoshow")||punchgs.TweenLite.set(d,{autoAlpha:0,overwrite:"all",display:"none"}),c.itemouttowait--,0==c.itemouttowait&&b.container.trigger("itemsinposition")}}):"horizontal-slide"==c.anim?punchgs.TweenLite.to(d,c.outspeed,{zIndex:2,force3D:"auto",autoAlpha:1,left:c.hooffset+d.position().left+c.hsoffsetout,top:c.vooffset+d.position().top,ease:c.easeout,delay:c.outwaits,onComplete:function(){punchgs.TweenLite.set(d,{autoAlpha:0,overwrite:"all",display:"none"}),c.itemouttowait--,0==c.itemouttowait&&b.container.trigger("itemsinposition")}}):"vertical-slide"==c.anim?punchgs.TweenLite.to(d,c.outspeed,{zIndex:2,force3D:"auto",autoAlpha:1,left:c.hooffset+d.position().left,top:c.vooffset+d.position().top+c.vsoffsetout,ease:c.easeout,delay:c.outwaits,onComplete:function(){punchgs.TweenLite.set(d,{autoAlpha:0,overwrite:"all",display:"none"}),c.itemouttowait--,0==c.itemouttowait&&b.container.trigger("itemsinposition")}}):"rotatefall"==c.anim&&d.css("opacity")>0?(punchgs.TweenLite.set(d,{zIndex:300-c.item}),punchgs.TweenLite.to(d,c.outspeed/2,{force3D:"auto",transformOrigin:c.outorigin,ease:"punchgs.Bounce.easeOut",rotationZ:c.rotatez,delay:c.outwaits}),punchgs.TweenLite.to(d,c.outspeed/2,{zIndex:2,force3D:"auto",autoAlpha:0,y:c.outoffsety,ease:punchgs.Power3.easeIn,delay:c.outwaits+c.outspeed/3})):punchgs.TweenLite.to(d,c.outspeed,{force3D:"auto",zIndex:2,scale:c.scale,autoAlpha:c.outfade,transformOrigin:c.outorigin,rotationX:c.outxrot,rotationY:c.outyrot,ease:c.easeout,delay:c.outwaits,onComplete:function(){d.hasClass("itemtoshow")||punchgs.TweenLite.set(d,{autoAlpha:0,overwrite:"all",display:"none"}),c.itemouttowait--,0==c.itemouttowait&&b.container.trigger("itemsinposition")}}):punchgs.TweenLite.set(d,{zIndex:2,scale:c.scale,autoAlpha:0,transformOrigin:c.outorigin,rotationX:c.outxrot,rotationY:c.outyrot,onComplete:function(){d.hasClass("itemtoshow")||punchgs.TweenLite.set(d,{autoAlpha:0,overwrite:"all",display:"none"}),c.itemouttowait--,0==c.itemouttowait&&b.container.trigger("itemsinposition")}}),c=shiftGridFake(c,b);else{d.addClass("isvisiblenow"),"even"!=b.layout?(c.currentcolumnheight[c.idealcol]=c.currentcolumnheight[c.idealcol]+c.itemh+parseInt(b.space,10),c.ulcurheight<c.currentcolumnheight[c.idealcol]&&(c.ulcurheight=c.currentcolumnheight[c.idealcol])):c.ulcurheight=c.y+c.itemh,c.maxheight<c.ulcurheight&&(c.maxheight=c.ulcurheight),c.itemtowait++;var g=Math.round(c.hooffset+c.x),h=Math.round(c.vooffset+c.y);"on"==b.rtl&&(g=c.ulwidth-g-c.itemw),0==d.css("opacity")&&"fade"==c.anim?punchgs.TweenLite.set(d,{opacity:0,autoAlpha:0,width:c.itemw,height:c.itemh,scale:1,left:g,y:0,top:h,overwrite:"all"}):0==d.css("opacity")&&"scale"==c.anim?punchgs.TweenLite.set(d,{width:c.itemw,height:c.itemh,scale:0,left:g,y:0,top:h,overwrite:"all"}):0==d.css("opacity")&&"rotatescale"==c.anim?punchgs.TweenLite.set(d,{width:c.itemw,height:c.itemh,scale:1,left:g,top:h,xPercent:150,yPercent:150,rotationZ:20,overwrite:"all"}):0==d.css("opacity")&&"fall"==c.anim?punchgs.TweenLite.set(d,{width:c.itemw,height:c.itemh,scale:.5,left:g,top:h,y:0,overwrite:"all"}):0==d.css("opacity")&&"rotatefall"==c.anim&&punchgs.TweenLite.set(d,{autoAlpha:0,width:c.itemw,height:c.itemh,left:g,rotationZ:0,top:h,y:0,overwrite:"all"}),0!=d.css("opacity")||"vertical-flip"!=c.anim&&"horizontal-flip"!=c.anim&&"vertical-flipbook"!=c.anim&&"horizontal-flipbook"!=c.anim||punchgs.TweenLite.set(d,{autoAlpha:c.infade,zIndex:10,scale:1,y:0,transformOrigin:c.inorigin,rotationX:c.inxrot,rotationY:c.inyrot,width:c.itemw,height:c.itemh,left:g,top:h,overwrite:"all"}),"stack"==c.anim&&punchgs.TweenLite.set(d,{zIndex:c.pageitemcounter,scale:.5,autoAlpha:1,left:g,top:h}),"horizontal-slide"==c.anim&&0==d.css("opacity")&&punchgs.TweenLite.set(d,{autoAlpha:1,left:Math.round(c.hooffset+(c.x-c.hsoffset)),top:h,width:c.itemw,height:c.itemh}),"vertical-slide"==c.anim&&0==d.css("opacity")&&punchgs.TweenLite.set(d,{autoAlpha:1,left:g,top:Math.round(c.vooffset+c.y-c.vsoffset),width:c.itemw,height:c.itemh});var i=d.find(".esg-entry-cover"),j=d.find(".esg-entry-media");if(i&&j){var k=j.height(),l=d.find(".esg-cc");punchgs.TweenLite.to(i,.01,{height:k,ease:c.ease,delay:c.waits}),punchgs.TweenLite.to(l,.01,{top:(k-l.height())/2,ease:c.ease,delay:c.waits})}punchgs.TweenLite.to(d,c.speed,{force3D:"auto",autoAlpha:1,scale:1,transformOrigin:c.inorigin,rotationX:0,rotationY:0,y:0,x:0,xPercent:0,yPercent:0,z:.1,rotationZ:0,left:g,top:h,ease:c.ease,delay:c.waits,onComplete:function(){d.hasClass("itemtoshow")&&punchgs.TweenLite.set(d,{autoAlpha:1,overwrite:"all"}),c.itemtowait--,0==c.itemtowait&&(b.container.trigger("itemsinposition"),d.closest(".mainul").removeClass("gridorganising"))}}),d.find("iframe").length>0&&d.find("iframe").each(function(){var a=jQuery(this),c=Math.round(a.data("neww")),e=Math.round(a.data("newh"));"even"!=b.layout?(punchgs.TweenLite.set(d.find(".esg-media-poster"),{width:c,height:e}),punchgs.TweenLite.set(d.find("iframe"),{width:c,height:e})):(punchgs.TweenLite.set(d.find(".esg-media-poster"),{width:"100%",height:"100%"}),punchgs.TweenLite.set(d.find("iframe"),{width:"100%",height:"100%"}))}),d.find(".video-eg").length>0&&d.find(".video-eg").each(function(){var a=jQuery(this),c=a.data("neww"),e=a.data("newh");"even"!=b.layout?(punchgs.TweenLite.set(d.find(".esg-media-poster"),{width:c,height:e}),punchgs.TweenLite.set(d.find(".esg-entry-media"),{width:c,height:e}),punchgs.TweenLite.set(d.find(".video-eg"),{width:c,height:e})):(punchgs.TweenLite.set(d.find(".esg-media-poster"),{width:"100%",height:"100%"}),punchgs.TweenLite.set(d.find(".esg-entry-media"),{width:"100%",height:"100%"}),punchgs.TweenLite.set(d.find(".video-eg"),{width:"100%",height:"100%"}))}),"masonry"==b.layout&&(c.col=c.backupcol),c=shiftGrid(c,b,d)}return c}function fakePositions(a,b,c){if(!a.hasClass("itemtoshow")&&!a.hasClass("fitsinfilter")||b.skipanim){var d=a.data("col"),e=a.data("row");(d==undefined||e==undefined)&&0!=b.x&&0!=b.y&&(b.x=Math.round(b.fakecol*b.itemw),b.y=b.fakey,d=b.fakecol,e=b.fakerow,a.data("col",b.fakecol),a.data("row",b.fakerow)),b.outwaits="rotatefall"==b.anim?(c.column-d)*b.delaybasic+e*b.delaybasic*c.column:d*b.delaybasic+e*b.delaybasic*c.column}return b}function shiftGrid(a,b,c){if(c.data("col",a.col),c.data("row",a.row),a.pageitemcounter++,a.col=a.col+a.verticalsteps,a.allcol++,a.col==b.column&&(a.col=0,a.row++,a.allrow++,a.y=parseFloat(a.y)+parseFloat(a.itemh)+parseFloat(b.space),a.row==b.row&&(a.row=0,a.pageitemcounter>=b.column*b.row&&(a.pageitemcounter=0),a.pagetoanimate=a.pagetoanimate+1,a.pagecounter++,0==a.pageitemcounter)))for(var d=0;d<b.column;d++)a.currentcolumnheight[d]=0;return a}function shiftGridFake(a,b){return a.fakecol=a.fakecol+1,a.pageitemcounterfake++,a.fakecol==b.column&&(a.fakecol=0,a.fakerow++,a.fakey=a.fakey+a.itemh+b.space,a.fakerow==b.row&&(a.fakerow=0,a.pageitemcounterfake=0)),a}function loadVideoApis(a){var b=0,c=0,d=0,e=0,f=0,g="http";"https:"===location.protocol&&(g="https"),a.find("iframe").each(function(){try{if(jQuery(this).attr("src").indexOf("you")>0&&0==b){b=1;var a=document.createElement("script"),c="https";a.src=c+"://www.youtube.com/iframe_api";var d=document.getElementsByTagName("script")[0],e=!0;jQuery("head").find("*").each(function(){jQuery(this).attr("src")==c+"://www.youtube.com/iframe_api"&&(e=!1)}),e&&d.parentNode.insertBefore(a,d)}}catch(a){}}),a.find("iframe").each(function(){try{if(jQuery(this).attr("src").indexOf("ws")>0&&0==d){d=1;var a=document.createElement("script");a.src=g+"://fast.wistia.com/assets/external/E-v1.js";var b=document.getElementsByTagName("script")[0],c=!0;jQuery("head").find("*").each(function(){jQuery(this).attr("src")==g+"://fast.wistia.com/assets/external/E-v1.js"&&(c=!1)}),c&&b.parentNode.insertBefore(a,b)}}catch(a){}}),a.find("iframe").each(function(){try{if(jQuery(this).attr("src").indexOf("vim")>0&&0==c){c=1;var a=document.createElement("script");a.src=g+"://a.vimeocdn.com/js/froogaloop2.min.js";var b=document.getElementsByTagName("script")[0],d=!0;jQuery("head").find("*").each(function(){jQuery(this).attr("src")==g+"://a.vimeocdn.com/js/froogaloop2.min.js"&&(d=!1)}),d&&b.parentNode.insertBefore(a,b)}}catch(a){}}),a.find("iframe").each(function(){try{if(jQuery(this).attr("src").indexOf("soundcloud")>0&&0==f){f=1;var a=document.createElement("script");a.src=g+"://w.soundcloud.com/player/api.js";var b=document.getElementsByTagName("script")[0],c=!0;jQuery("head").find("*").each(function(){jQuery(this).attr("src")==g+"://w.soundcloud.com/player/api.js"&&(c=!1)}),c&&b.parentNode.insertBefore(a,b)}}catch(a){}});var h={youtube:b,vimeo:c,wistia:d,soundcloud:f,htmlvid:e};return h}function toHHMMSS(){var a=new Date,b=Math.floor(a)/1e3,c=Math.floor(b/60),d=Math.floor(c/60),e=Math.floor(d/24),d=d-24*e,c=c-24*e*60-60*d,b=b-24*e*60*60-60*d*60-60*c;return d+":"+c+":"+b}function stopAllVideos(a,b,c){var d=".isplaying";a&&(d=""),jQuery(".esg-youtubevideo.haslistener"+d).each(function(){var b=jQuery(this),d=b.data("player");c!=b.attr("id")&&(d.pauseVideo(),a&&forceVideoInPause(b,!0,d,"youtube"))}),jQuery(".esg-vimeovideo.haslistener"+d).each(function(){var b=jQuery(this),d=b.attr("id"),e=$f(d);c!=d&&(e.api("pause"),c===undefined&&a&&forceVideoInPause(b,!0,e,"vimeo"))}),jQuery(".esg-wistiavideo.haslistener"+d).each(function(){var b=jQuery(this),d=b.data("player");c!=b.attr("id")&&(b.wistiaApi.pause(),a&&forceVideoInPause(b,!0,d,"wistia"))}),jQuery(".esg-htmlvideo.haslistener"+d).each(function(){var b=jQuery(this),d=b.attr("id"),e=document.getElementById(d);c!=d&&(e.pause(),a&&forceVideoInPause(b,!0,e,"html5vid"))}),jQuery(".esg-soundcloud"+d).each(function(){var b=jQuery(this),d=b.data("player");c!=b.attr("id")&&(d.pause(),a&&forceVideoInPause(b,!0,d,"soundcloud"))})}function forceVideoInPause(a,b,c,d){a.removeClass("isplaying");var e=a.closest(".tp-esg-item");if(e.find(".esg-media-video").length>0&&!jQuery("body").data("fullScreenMode")){var f=e.find(".esg-entry-cover"),g=e.find(".esg-media-poster");if(g.length>0)if(is_mobile()?(punchgs.TweenLite.set(f,{autoAlpha:1}),punchgs.TweenLite.set(g,{autoAlpha:1}),punchgs.TweenLite.set(a,{autoAlpha:0})):(punchgs.TweenLite.to(f,.5,{autoAlpha:1}),punchgs.TweenLite.to(g,.5,{autoAlpha:1}),punchgs.TweenLite.to(a,.5,{autoAlpha:0})),b)if("youtube"==d)try{c.destroy()}catch(a){}else if("vimeo"==d)try{c.api("unload")}catch(a){}else if("wistia"==d)try{c.end()}catch(a){}else"html5vid"!=d&&(a.removeClass("haslistener"),a.removeClass("readytoplay"));else setTimeout(function(){is_mobile()||a.css({display:"none"})},500)}}function onPlayerStateChange(a){var b=a.target.getVideoEmbedCode(),c=jQuery("#"+b.split('id="')[1].split('"')[0]),d=c.data("player");a.data==YT.PlayerState.PLAYING&&(d.setPlaybackQuality("hd1080"),stopAllVideos(!0,!1,c.attr("id")),c.addClass("isplaying"),c.removeClass("isinpause")),2==a.data&&forceVideoInPause(c),0==a.data&&forceVideoInPause(c)}function vimeoready_auto(a){var b=$f(a),c=jQuery("#"+a);b.addEvent("ready",function(){c.addClass("readytoplay"),b.addEvent("play",function(){stopAllVideos(!0,!1,a),c.addClass("isplaying"),c.removeClass("isinpause")}),b.addEvent("finish",function(){forceVideoInPause(c),c.removeClass("isplaying")}),b.addEvent("pause",function(){forceVideoInPause(c),c.removeClass("isplaying")})})}function addEvent(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent(b,c,!1)}function html5vidready(a,b,c){b.addClass("readytoplay"),b.on("play",function(){stopAllVideos(!0,!1,c),b.addClass("isplaying"),b.removeClass("isinpause")}),b.on("pause",function(){forceVideoInPause(b),b.removeClass("isplaying")}),b.on("ended",function(){forceVideoInPause(b),b.removeClass("isplaying")})}function prepareYT(a){var b="ytiframe"+Math.round(1e5*Math.random()+1);if(a.hasClass("haslistener")||"undefined"==typeof YT){var c=a.data("player");return c!=undefined&&"function"==typeof c.playVideo}try{a.attr("id",b);var c=new YT.Player(b,{events:{onStateChange:onPlayerStateChange}});a.data("player",c),a.addClass("haslistener").addClass("esg-youtubevideo")}catch(a){return!1}}function playYT(a){var b=a.data("player");b!=undefined&&"function"==typeof b.playVideo&&b.playVideo()}function prepareVimeo(a){if(a.hasClass("haslistener")||"undefined"==typeof $f){if(typeof $f!=undefined&&"undefined"!=typeof $f){var b=$f(a.attr("id"));return!("function"!=typeof b.api||!a.hasClass("readytoplay"))}return!1}try{var c="vimeoiframe"+Math.round(1e5*Math.random()+1);a.attr("id",c);for(var d,e=a.attr("src"),f={},g=e,h=/([^&=]+)=([^&]*)/g;d=h.exec(g);)f[decodeURIComponent(d[1])]=decodeURIComponent(d[2]);e=f.player_id!=undefined?e.replace(f.player_id,c):e+"&player_id="+c;try{e=e.replace("api=0","api=1")}catch(a){}e+="&api=1",a.attr("src",e);var i=a[0];$f(i).addEvent("ready",function(){vimeoready_auto(c)}),a.addClass("haslistener").addClass("esg-vimeovideo")}catch(a){return!1}}function playVimeo(a){var b=$f(a.attr("id"));b.api("play")}function prepareWs(a){var b="wsiframe"+Math.round(1e5*Math.random()+1);if(a.hasClass("haslistener")||"undefined"==typeof Ws){var c=a.data("player");return c!=undefined&&"function"==typeof c.playVideo}try{a.attr("id",b);var c=new Ws.Player(b,{events:{onStateChange:onPlayerStateChange}});a.data("player",c),a.addClass("haslistener").addClass("esg-wistiavideo")}catch(a){return!1}}function playWs(a){var b=a.data("player");b!=undefined&&"function"==typeof b.playVideo&&b.wistiaApi.Plau()}function prepareSoundCloud(a){if(a.data("player")!=undefined||"undefined"==typeof SC){var b=a.data("player");return b!=undefined&&"function"==typeof b.getVolume}var c="sciframe"+Math.round(1e5*Math.random()+1);try{a.attr("id",c);var b=SC.Widget(c);b.bind(SC.Widget.Events.PLAY,function(){stopAllVideos(!0,!1,a.attr("id")),a.addClass("isplaying"),a.removeClass("isinpause")}),b.bind(SC.Widget.Events.PAUSE,function(){forceVideoInPause(a),a.removeClass("isplaying")}),b.bind(SC.Widget.Events.FINISH,function(){forceVideoInPause(a),a.removeClass("isplaying")}),a.data("player",b),a.addClass("haslistener").addClass("esg-soundcloud")}catch(a){return!1}}function playSC(a){var b=a.data("player");b!=undefined&&"function"==typeof b.getVolume&&setTimeout(function(){b.play()},500)}function prepareVideo(a){if(a.hasClass("haslistener"))try{var b=a.attr("id"),c=document.getElementById(b);return!("function"!=typeof c.play||!a.hasClass("readytoplay"))}catch(a){return!1}else{var d="videoid_"+Math.round(1e5*Math.random()+1);a.attr("id",d);var c=document.getElementById(d);c.oncanplay=html5vidready(c,a,d),a.addClass("haslistener").addClass("esg-htmlvideo")}}function playVideo(a){var b=a.attr("id"),c=document.getElementById(b);c.play()}var esgAnimmatrix=[[".esg-none",0,{autoAlpha:1,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},0,{autoAlpha:1,overwrite:"all"}],[".esg-fade",.3,{autoAlpha:0,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-fadeout",.3,{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},{autoAlpha:0,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},.3,{autoAlpha:1,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-covergrowup",.3,{autoAlpha:1,top:"100%",marginTop:-10,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,top:"0%",marginTop:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:1,top:"100%",marginTop:-10,bottom:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"},!0],[".esg-flipvertical",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationX:180,autoAlpha:0,z:-.001,transformOrigin:"50% 50%"},{rotationX:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationX:180,autoAlpha:0,scale:1,z:-.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},!0],[".esg-flipverticalout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationX:0,autoAlpha:1,z:.001,transformOrigin:"50% 50%"},{rotationX:-180,scale:1,autoAlpha:0,z:-150,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationX:0,autoAlpha:1,scale:1,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-fliphorizontal",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationY:180,autoAlpha:0,z:-.001,transformOrigin:"50% 50%"},{rotationY:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationY:180,autoAlpha:0,scale:1,z:-.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},!0],[".esg-fliphorizontalout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,z:.001,transformOrigin:"50% 50%"},{rotationY:-180,scale:1,autoAlpha:0,z:-150,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationY:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-flipup",.5,{x:0,y:0,scale:.8,rotationZ:0,rotationX:90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 100%"},{scale:1,rotationX:0,autoAlpha:1,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:.8,rotationX:90,autoAlpha:0,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"},!0],[".esg-flipupout",.5,{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"},{x:0,y:0,scale:1,rotationZ:0,rotationX:-90,rotationY:0,skewX:0,skewY:0,autoAlpha:1,z:.001,transformOrigin:"50% 0%"},.3,{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"}],[".esg-flipdown",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:-90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 0%"},{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"},.3,{rotationX:-90,z:0,ease:punchgs.Power2.easeOut,autoAlpha:0,overwrite:"all"},!0],[".esg-flipdownout",.5,{scale:1,rotationX:0,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"},{x:0,y:0,scale:.8,rotationZ:0,rotationX:90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 100%"},.3,{scale:1,rotationX:0,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-flipright",.5,{x:0,y:0,scale:.8,rotationZ:0,rotationX:0,rotationY:90,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"0% 50%"},{scale:1,rotationY:0,autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:0,scale:.8,rotationY:90,ease:punchgs.Power3.easeOut,overwrite:"all"},!0],[".esg-fliprightout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationY:0,autoAlpha:1,transformOrigin:"100% 50%"},{scale:1,rotationY:-90,autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:1,z:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-flipleft",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:-90,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50%"},{rotationY:0,autoAlpha:1,z:.001,scale:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,rotationY:-90,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"},!0],[".esg-flipleftout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationY:0,autoAlpha:1,transformOrigin:"0% 50%"},{scale:1,rotationY:90,autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:1,z:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-turn",.5,{x:50,y:0,scale:0,rotationZ:0,rotationX:0,rotationY:-40,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{scale:1,x:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeInOut,overwrite:"all"},.3,{scale:0,rotationY:-40,autoAlpha:1,z:0,x:50,ease:punchgs.Power3.easeInOut,overwrite:"all"},!0],[".esg-turnout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{scale:1,rotationY:40,scale:.6,autoAlpha:0,x:-50,ease:punchgs.Power3.easeInOut,overwrite:"all"},.3,{scale:1,rotationY:0,z:0,autoAlpha:1,x:0,rotationX:0,rotationZ:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-slide",.5,{x:-1e4,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:-1e4,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideright",.5,{xPercent:-50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:-50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-sliderightout",.5,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-scaleleft",.5,{x:0,y:0,scaleX:0,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50%"},{autoAlpha:1,x:0,scaleX:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,z:0,scaleX:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-scaleright",.5,{x:0,y:0,scaleX:0,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"0% 50%"},{autoAlpha:1,x:0,scaleX:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,z:0,scaleX:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideleft",.5,{xPercent:50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideleftout",.5,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:-50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideup",.5,{x:0,yPercent:50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,yPercent:50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideupout",.5,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,yPercent:-50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slidedown",.5,{x:0,yPercent:-50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,yPercent:-50,z:0,ease:punchgs.Power2.easeOut,
overwrite:"all"}],[".esg-slidedownout",.5,{autoAlpha:1,yPercent:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,yPercent:50,scale:1,rotationZ:0,rotationX:0,z:10,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,yPercent:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideshortright",.5,{x:-30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:-30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideshortrightout",.5,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,x:30,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideshortleft",.5,{x:30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideshortleftout",.5,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:-30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideshortup",.5,{x:0,y:30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,y:30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideshortupout",.5,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,y:-30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideshortdown",.5,{x:0,y:-30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,y:-30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideshortdownout",.5,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,y:30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-skewright",.5,{xPercent:-100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,skewX:-60,xPercent:-100,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-skewrightout",.5,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:-60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-skewleft",.5,{xPercent:100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:-60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:100,z:0,skewX:60,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-skewleftout",.5,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:-100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-shifttotop",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rollleft",.5,{xPercent:50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:90,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:50,z:0,rotationZ:90,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rollleftout",.5,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:90,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-rollright",.5,{xPercent:-50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:-90,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:-50,rotationZ:-90,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rollrightout",.5,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:-50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:-90,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-falldown",.4,{x:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,yPercent:-100},{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.4,{yPercent:-100,autoAlpha:0,z:0,ease:punchgs.Power2.easeOut,delay:.2,overwrite:"all"}],[".esg-falldownout",.4,{autoAlpha:1,yPercent:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,yPercent:100},.4,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-rotatescale",.3,{x:0,y:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:80,scale:.6,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"},.3,{autoAlpha:0,scale:.6,z:0,rotationZ:80,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rotatescaleout",.3,{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:80,scale:.6,transformOrigin:"50% 50%"},.3,{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"}],[".esg-zoomintocorner",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"20% 50%"},{autoAlpha:1,scale:1.2,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:1,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomouttocorner",.5,{x:0,y:0,scale:1.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"80% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:1.2,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomtodefault",.5,{x:0,y:0,scale:1.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:1.2,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomback",.5,{x:0,y:0,scale:.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:.2,autoAlpha:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoombackout",.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,scale:.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"}],[".esg-zoomfront",.5,{x:0,y:0,scale:1.5,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:1.5,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomfrontout",.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,scale:1.5,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"}],[".esg-flyleft",.8,{x:-80,y:0,z:0,scale:.3,rotationZ:0,rotationY:75,rotationX:10,skewX:0,skewY:0,autoAlpha:.01,transformOrigin:"30% 10%"},{x:0,y:0,rotationY:0,z:.001,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},.8,{autoAlpha:.01,x:-40,y:0,z:300,rotationY:60,rotationX:20,overwrite:"all"}],[".esg-flyleftout",.8,{x:0,y:0,rotationY:0,z:.001,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},{x:-80,y:0,z:0,scale:.3,rotationZ:0,rotationY:75,rotationX:10,skewX:0,skewY:0,autoAlpha:.01,transformOrigin:"30% 10%"},.8,{x:0,y:0,rotationY:0,z:.001,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-flyright",.8,{scale:1,skewX:0,skewY:0,autoAlpha:0,x:80,y:0,z:0,scale:.3,rotationZ:0,rotationY:-75,rotationX:10,transformOrigin:"70% 20%"},{x:0,y:0,rotationY:0,z:.001,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},.8,{autoAlpha:0,x:40,y:-40,z:300,rotationY:-60,rotationX:-40,overwrite:"all"}],[".esg-flyrightout",.8,{x:0,y:0,rotationY:0,z:.001,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},{scale:1,skewX:0,skewY:0,autoAlpha:0,x:80,y:0,z:0,scale:.3,rotationZ:0,rotationY:-75,rotationX:10,transformOrigin:"70% 20%"},.8,{x:0,y:0,rotationY:0,z:.001,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-mediazoom",.3,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1.4,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:0,y:0,scale:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomandrotate",.6,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1.4,x:0,y:0,rotationZ:30,ease:punchgs.Power2.easeOut,overwrite:"all"},.4,{x:0,y:0,scale:1,z:0,rotationZ:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-pressback",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{rotationY:0,autoAlpha:1,scale:.8,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{rotationY:0,autoAlpha:1,z:0,scale:1,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-3dturnright",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformPerspective:600},{x:-40,y:0,scale:.8,rotationZ:2,rotationX:5,rotationY:-28,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50% 40%",transformPerspective:600,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{z:0,x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,force3D:"auto",ease:punchgs.Power2.easeOut,overwrite:"all"},!0]];jQuery.fn.extend({tpessential:function(a){return jQuery.fn.tpessential.defaults={forceFullWidth:"off",forceFullScreen:"off",fullScreenOffsetContainer:"",row:3,column:4,space:10,pageAnimation:"fade",animSpeed:600,delayBasic:.08,smartPagination:"on",paginationScrollToTop:"off",paginationScrollToTopOffset:200,layout:"even",rtl:"off",aspectratio:"16:9",bgPosition:"center center",bgSize:"cover",videoJsPath:"",overflowoffset:0,mainhoverdelay:0,rowItemMultiplier:[],filterGroupClass:"",filterType:"",filterLogic:"or",showDropFilter:"hover",evenGridMasonrySkinPusher:"on",loadMoreType:"none",loadMoreItems:[],loadMoreAmount:5,loadMoreTxt:"Load More",loadMoreNr:"on",loadMoreEndTxt:"No More Items for the Selected Filter",loadMoreAjaxUrl:"",loadMoreAjaxToken:"",loadMoreAjaxAction:"",lazyLoad:"off",lazyLoadColor:"#ff0000",gridID:0,spinner:"",spinnerColor:"",lightBoxMode:"single",cobblesPattern:"",searchInput:".faqsearch",googleFonts:"",googleFontJS:"//ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",ajaxContentTarget:"",ajaxScrollToOnLoad:"off",ajaxScrollToOffset:100,ajaxCallback:"",ajaxCallbackArgument:"on",ajaxCssUrl:"",ajaxJsUrl:"",ajaxCloseButton:"on",ajaxNavButton:"on",ajaxCloseTxt:"Close",ajaxCloseType:"type1",ajaxClosePosition:"tr",ajaxCloseInner:"true",ajaxCloseStyle:"light",ajaxTypes:[],cookies:{search:"off",filter:"off",pagination:"off",loadmore:"off",timetosave:"30"}},a=jQuery.extend({},jQuery.fn.tpessential.defaults,a),"undefined"==typeof WebFontConfig&&(WebFontConfig=new Object),this.each(function(){function b(a,b){mainPreparing(a,b),b.initialised="ready",jQuery("body").trigger("essentialready",a.attr("id"))}function c(a,b){var c=a.offset().top+a.height()-jQuery(document).scrollTop();jQuery(window).height()>c&&1!=b.data("loading")&&(b.data("loading",1),loadMoreItems(a,d))}var d=a,e=jQuery(this);if(e==undefined)return!1;if(e.parent().css({position:"relative"}),"cobbles"==d.layout?(d.layout="even",d.evenCobbles="on"):d.evenCobbles="off","true"!=d.get&&1!=d.get){if(d.get=!0,d.filterGroupClass=d.filterGroupClass==undefined||0==d.filterGroupClass.length?"#"+e.attr("id"):"."+d.filterGroupClass,1==window.tplogs)try{console.groupCollapsed("Essential Grid  2.0.5 Initialisation on "+e.attr("id")),console.groupCollapsed("Used Options:"),console.info(a),console.groupEnd(),console.groupCollapsed("Tween Engine:")}catch(a){}if(punchgs.TweenLite==undefined){if(1==window.tplogs)try{console.error("GreenSock Engine Does not Exist!")}catch(a){}return!1}if(punchgs.force3D=!0,1==window.tplogs)try{console.info("GreenSock Engine Version in Essential Grid:"+punchgs.TweenLite.version)}catch(a){}if(punchgs.TweenLite.lagSmoothing(2e3,16),punchgs.force3D="auto",1==window.tplogs)try{console.groupEnd(),console.groupEnd()}catch(a){}jQuery("body").data("fullScreenMode",!1),jQuery(window).on("mozfullscreenchange webkitfullscreenchange fullscreenchange",function(){jQuery("body").data("fullScreenMode",!jQuery("body").data("fullScreenMode"))}),buildLoader(e.parent(),d),d.firstshowever==undefined&&jQuery(d.filterGroupClass+".esg-navigationbutton,"+d.filterGroupClass+" .esg-navigationbutton").css({visibility:"hidden"}),e.parent().append('<div class="esg-relative-placeholder" style="width:100%;height:auto"></div>'),e.wrap('<div class="esg-container-fullscreen-forcer" style="position:relative;left:0px;top:0px;width:100%;height:auto;"></div>');var f=e.parent().parent().find(".esg-relative-placeholder").offset().left;("on"==d.forceFullWidth||"on"==d.forceFullScreen)&&e.closest(".esg-container-fullscreen-forcer").css({left:0-f,width:jQuery(window).width()}),d.animDelay=0==d.delayBasic?"off":"on",d.container=e,e.find("ul").first().addClass("mainul").wrap('<div class="esg-overflowtrick"></div>');var g=jQuery(d.filterGroupClass+".esg-navbutton-solo-left,"+d.filterGroupClass+" .esg-navbutton-solo-left"),h=jQuery(d.filterGroupClass+".esg-navbutton-solo-right,"+d.filterGroupClass+" .esg-navbutton-solo-right");if(g.length>0&&(g.css({marginTop:0-g.height()/2}),g.appendTo(e.find(".esg-overflowtrick"))),h.length>0&&(h.css({marginTop:0-h.height()/2}),h.appendTo(e.find(".esg-overflowtrick"))),punchgs.CSSPlugin.defaultTransformPerspective=1200,d.animSpeed=d.animSpeed/1e3,d.delayBasic=d.delayBasic/100,setOptions(e,d),d.filter=d.statfilter,d.origcolumn=d.column,d.currentpage=0,e.addClass("esg-layout-"+d.layout),loadVideoApis(e,d),"even"==d.layout&&"on"==d.forceFullScreen){var i=jQuery(window).height();if(d.fullScreenOffsetContainer!=undefined)try{var j=d.fullScreenOffsetContainer.split(",");j&&jQuery.each(j,function(a,b){i-=jQuery(b).outerHeight(!0),i<d.minFullScreenHeight&&(i=d.minFullScreenHeight)})}catch(a){}var k=e.find(".esg-overflowtrick").first(),l=e.find("ul").first();k.css({display:"block",height:i+"px"}),l.css({display:"block",height:i+"px"}),e.closest(".eg-grid-wrapper, .myportfolio-container").css({height:"auto"}).removeClass("eg-startheight")}if(0!=d.googleFonts.length&&"masonry"==d.layout){var m=(d.googleFonts.length,!0);if(jQuery("head").find("*").each(function(){jQuery(this).attr("src")!=undefined&&jQuery(this).attr("src").indexOf("webfont.js")>0&&(m=!1)}),WebFontConfig.active==undefined&&m){WebFontConfig={google:{families:d.googleFonts},active:function(){b(e,d)},inactive:function(){b(e,d)},timeout:1500};var n=document.createElement("script");n.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",n.type="text/javascript",n.async="true";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o)}else b(e,d)}else b(e,d);if("button"==d.loadMoreType){e.append('<div class="esg-loadmore-wrapper" style="text-align:center"><div class="esg-navigationbutton esg-loadmore">LOAD MORE</div></div>');var p=e.find(".esg-loadmore"),q=d.loadMoreTxt+" ("+checkMoreToLoad(e,d).length+")";"off"==d.loadMoreNr&&(q=d.loadMoreTxt),p.html(q),p.click(function(){1!=p.data("loading")&&loadMoreItems(e,d)}),0==checkMoreToLoad(e,d).length&&p.remove()}else if("scroll"==d.loadMoreType){e.append('<div style="display:inline-block" class="esg-navigationbutton esg-loadmore">LOAD MORE</div>');var p=e.find(".esg-loadmore"),q=d.loadMoreTxt+" ("+checkMoreToLoad(e,d).length+")";"off"==d.loadMoreNr&&(q=d.loadMoreTxt),p.html(q),jQuery(document,window).scroll(function(){c(e,p)}),c(e,p),0==checkMoreToLoad(e,d).length&&p.remove()}checkAvailableFilters(e,d),tabBlurringCheck(e,d)}})},esappend:function(){var a=jQuery(this);return prepareItemsInGrid(opt,!0),organiseGrid(opt),prepareSortingAndOrders(a),opt.lastslide},esskill:function(){var a=jQuery(this);a.find("*").each(function(){jQuery(this).off("click, focus, focusin, hover, play, ended, stop, pause, essentialready"),jQuery(this).remove()}),a.remove(),a.html(),a=null},esreadsettings:function(a){a=a==undefined?new Object:a;var b=jQuery(this),c=getOptions(b);return c},esredraw:function(a){a=a==undefined?new Object:a;var b=jQuery(this),c=getOptions(b);if(a.space!=undefined&&(c.space=parseInt(a.space,0)),a.row!=undefined&&(c.row=parseInt(a.row,0)),a.rtl!=undefined&&(c.rtl=a.rtl),a.aspectratio!=undefined&&(c.aspectratio=a.aspectratio),a.forceFullWidth!=undefined)if(c.forceFullWidth=a.forceFullWidth,"on"==c.forceFullWidth){var d=b.parent().parent().find(".esg-relative-placeholder").offset().left;b.closest(".esg-container-fullscreen-forcer").css({left:0-d,width:jQuery(window).width()})}else b.closest(".esg-container-fullscreen-forcer").css({left:0,width:"auto"});if(a.rowItemMultiplier!=undefined&&(c.rowItemMultiplier=a.rowItemMultiplier),a.responsiveEntries!=undefined&&(c.responsiveEntries=a.responsiveEntries),a.column!=undefined){if(a.column<=0||a.column>=20){var e=getBestFitColumn(c,jQuery(window).width(),"id");c.column=e.column,c.columnindex=e.index}else c.column=parseInt(a.column,0);c.origcolumn=c.column}a.animSpeed!=undefined&&(c.animSpeed=a.animSpeed/1e3),a.delayBasic!=undefined&&(c.delayBasic=a.delayBasic/100),a.pageAnimation!=undefined&&(c.pageAnimation=a.pageAnimation),a.changedAnim!=undefined&&(c.changedAnim=a.changedAnim),c.started=!0,1==a.silent&&(c.silent=!0),setOptions(b,c),setItemsOnPages(c),organiseGrid(c)},esquickdraw:function(){var a=jQuery(this),b=getOptions(a);b.silent=!0,setOptions(a,b),setItemsOnPages(b),organiseGrid(b)},esreinit:function(){var a=jQuery(this);return prepareItemsInGrid(opt,!0),organiseGrid(opt),prepareSortingAndOrders(a),opt.lastslide},somemethodb:function(){return this.each(function(){jQuery(this)})}});var vis=function(){var a,b,c={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(a in c)if(a in document){b=c[a];break}return function(c){return c&&document.addEventListener(b,c),!document[a]}}(),tabBlurringCheck=function(){var a=document.documentMode===undefined,b=window.chrome;jQuery("body").hasClass("esg-blurlistenerexists")||(jQuery("body").addClass("esg-blurlistenerexists"),a&&!b?jQuery(window).on("focusin",function(){setTimeout(function(){jQuery("body").find(".esg-grid.esg-container").each(function(){jQuery(this).esquickdraw()})},300)}).on("focusout",function(){}):window.addEventListener?window.addEventListener("focus",function(){setTimeout(function(){jQuery("body").find(".esg-grid.esg-container").each(function(){jQuery(this).esquickdraw()})},300)},!1):window.attachEvent("focus",function(){setTimeout(function(){jQuery("body").find(".esg-grid.esg-container").each(function(){jQuery(this).esquickdraw()})},300)}))},is_mobile=function(){var a=["android","webos","iphone","ipad","blackberry","Android","webos",,"iPod","iPhone","iPad","Blackberry","BlackBerry"],b=!1;for(i in a)navigator.userAgent.split(a[i]).length>1&&(b=!0);return b},waitForLoads=function(a,b){var c=a.closest(".esg-grid").parent().parent().find(".esg-loader");jQuery.each(a,function(a,d){d=jQuery(d),c.length>0&&punchgs.TweenLite.to(c,.2,{autoAlpha:1,delay:.5}),!d.hasClass("loadedmedia")&&"even"!=b.layout&&d.find("img").length>0&&d.hasClass("itemtoshow")&&d.removeClass("itemtoshow").addClass("showmeonload"),d.hasClass("loadedmedia")||"even"==b.layout||0!=d.find("img").length||(evenImageRatio(d.find("img"),b),waittorungGrid(d,b,!0))});var d=setInterval(function(){b.bannertimeronpause=!0,b.cd=0;var e=0;a.find("img").each(function(){var a=jQuery(this);1!=a.data("lazydone")&&"on"==b.lazyLoad&&a.parent().find(".lazyloadcover").length<1&&a.parent().append('<div class="lazyloadcover" style="position:absolute;top:0px;left:0px;z-index:10;width:100%;height:100%;background:'+b.lazyLoadColor+'"></div>'),1!=a.data("lazydone")&&3>e&&(e++,loadAllPrepared(jQuery(this),b))}),0==e&&c.length>0&&(punchgs.TweenLite.killTweensOf(c,!1),punchgs.TweenLite.to(c,.2,{autoAlpha:0})),0!=e||a.closest(".mainul").hasClass("gridorganising")||(clearInterval(d),runGrid(b))},50)}}(jQuery),function(a,b){function c(a){return a&&a.toLowerCase?a.toLowerCase():a}function d(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return!e;return e}var e=!1,f=null,g=parseFloat,h=Math.min,i=/(-?\d+\.?\d*)$/g,j=/(\d+\.?\d*)$/g,k=[],l=[],m=function(a){return"string"==typeof a},n=function(a,b){for(var c,d=a.length,e=d;e--;)c=d-e-1,b(a[c],c)},o=Array.prototype.indexOf||function(a){var b=this.length,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1};a.tinysort={id:"TinySort",version:"1.5.6",copyright:"Copyright (c) 2008-2013 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"},plugin:function(){var a=function(a,b){k.push(a),l.push(b)};return a.indexOf=o,a}(),defaults:{order:"asc",attr:f,data:f,useVal:e,place:"start",returns:e,cases:e,forceStrings:e,ignoreDashes:e,sortFunction:f}},a.fn.extend({tinysort:function(){var p,q,r,s,t=this,u=[],v=[],w=[],x=[],y=0,z=[],A=[],B=function(a){n(k,function(b){b.call(b,a)})},C=function(a,b){return"string"==typeof b&&(a.cases||(b=c(b)),b=b.replace(/^\s*(.*?)\s*$/i,"$1")),b},D=function(a,b){var c=0;for(0!==y&&(y=0);0===c&&s>y;){var d=x[y],f=d.oSettings,h=f.ignoreDashes?j:i;if(B(f),f.sortFunction)c=f.sortFunction(a,b);else if("rand"==f.order)c=Math.random()<.5?1:-1;else{var k=e,o=C(f,a.s[y]),p=C(f,b.s[y]);if(!f.forceStrings){var q=m(o)?o&&o.match(h):e,r=m(p)?p&&p.match(h):e;if(q&&r){var t=o.substr(0,o.length-q[0].length),u=p.substr(0,p.length-r[0].length);t==u&&(k=!e,o=g(q[0]),p=g(r[0]))}}c=d.iAsc*(p>o?-1:o>p?1:0)}n(l,function(a){c=a.call(a,k,o,p,c)}),0===c&&y++}return c};for(p=0,r=arguments.length;r>p;p++){var E=arguments[p];m(E)?z.push(E)-1>A.length&&(A.length=z.length-1):A.push(E)>z.length&&(z.length=A.length)}for(z.length>A.length&&(A.length=z.length),s=z.length,0===s&&(s=z.length=1,A.push({})),p=0,r=s;r>p;p++){var F=z[p],G=a.extend({},a.tinysort.defaults,A[p]),H=!(!F||""===F),I=H&&":"===F[0];x.push({sFind:F,oSettings:G,bFind:H,bAttr:!(G.attr===f||""===G.attr),bData:G.data!==f,bFilter:I,$Filter:I?t.filter(F):t,fnSort:G.sortFunction,iAsc:"asc"==G.order?1:-1})}return t.each(function(c,d){var e,f=a(d),g=f.parent().get(0),h=[];for(q=0;s>q;q++){var i=x[q],j=i.bFind?i.bFilter?i.$Filter.filter(d):f.find(i.sFind):f;h.push(i.bData?j.data(i.oSettings.data):i.bAttr?j.attr(i.oSettings.attr):i.oSettings.useVal?j.val():j.text()),e===b&&(e=j)}var k=o.call(w,g);0>k&&(k=w.push(g)-1,v[k]={s:[],n:[]}),e.length>0?v[k].s.push({s:h,e:f,n:c}):v[k].n.push({e:f,n:c})}),n(v,function(a){a.s.sort(D)}),n(v,function(a){var b=a.s,c=a.n,f=b.length,g=c.length,i=f+g,j=[],k=i,l=[0,0];switch(G.place){case"first":n(b,function(a){k=h(k,a.n)});break;case"org":n(b,function(a){j.push(a.n)});break;case"end":k=g;break;default:k=0}for(p=0;i>p;p++){var m=d(j,p)?!e:p>=k&&k+f>p,o=m?0:1,q=(m?b:c)[l[o]].e;q.parent().append(q),(m||!G.returns)&&u.push(q.get(0)),l[o]++}}),t.length=0,Array.prototype.push.apply(t,u),t}}),a.fn.TinySort=a.fn.Tinysort=a.fn.tsort=a.fn.tinysort}(jQuery);